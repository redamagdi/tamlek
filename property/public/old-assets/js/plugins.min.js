if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,o=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(o).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',o=function(t){e(t).on("click",n,this.close)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===i?[]:i);t&&t.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(o.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=o,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,o.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),r=o.data("bs.button"),i="object"==typeof t&&t;r||o.data("bs.button",r=new n(this,i)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,o){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,o),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",o=this.$element,r=o.is("input")?"val":"html",i=o.data();t+="Text",null==i.resetText&&o.data("resetText",o[r]()),setTimeout(e.proxy(function(){o[r](null==i[t]?this.options[t]:i[t]),"loadingText"==t?(this.isLoading=!0,o.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,o.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=o,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var o=e(n.target).closest(".btn");t.call(o,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),o.is("input,button")?o.trigger("focus"):o.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),r=o.data("bs.carousel"),i=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t),a="string"==typeof t?t:i.slide;r||o.data("bs.carousel",r=new n(this,i)),"number"==typeof t?r.to(t):a?r[a]():i.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var o="prev"==e?-1:1,r=(n+o)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,o){var r=this.$element.find(".item.active"),i=o||this.getItemForDirection(t,r),a=this.interval,s="next"==t?"left":"right",l=this;if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(s),i.addClass(s),r.one("bsTransitionEnd",function(){i.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var o=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=o,this};var r=function(n){var o,r=e(this),i=e(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var a=e.extend({},i.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),t.call(i,a),s&&i.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),function(e){"use strict";function t(t){var n;return e(t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""))}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),i=e.extend({},o.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&i.toggle&&/show|hide/.test(t)&&(i.toggle=!1),r||n.data("bs.collapse",r=new o(this,i)),"string"==typeof t&&r[t]()})}var o=function(t,n){this.$element=e(t),this.options=e.extend({},o.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.7",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"))&&t.transitioning)){var i=e.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION):r.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,o){var r=e(o);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=o,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var r=e(this);r.attr("data-target")||o.preventDefault();var i=t(r),a=i.data("bs.collapse"),s=a?"toggle":r.data();n.call(i,s)})}(jQuery),function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&e(n);return o&&o.length?o:t.parent()}function n(n){n&&3===n.which||(e(r).remove(),e(i).each(function(){var o=e(this),r=t(o),i={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(r[0],n.target)||(r.trigger(n=e.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(o.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",i)))))}))}function o(t){return this.each(function(){var n=e(this),o=n.data("bs.dropdown");o||n.data("bs.dropdown",o=new a(this)),"string"==typeof t&&o[t].call(n)})}var r=".dropdown-backdrop",i='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(o){var r=e(this);if(!r.is(".disabled, :disabled")){var i=t(r),a=i.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(i.trigger(o=e.Event("show.bs.dropdown",s)),o.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var o=e(this);if(n.preventDefault(),n.stopPropagation(),!o.is(".disabled, :disabled")){var r=t(o),a=r.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&r.find(i).trigger("focus"),o.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=o,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,a.prototype.toggle).on("keydown.bs.dropdown.data-api",i,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,o){return this.each(function(){var r=e(this),i=r.data("bs.modal"),a=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);i||r.data("bs.modal",i=new n(this,a)),"string"==typeof t?i[t](o):a.show&&i.show(o)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var o=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),r&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(n.TRANSITION_DURATION):o.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var o=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var o=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=o,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var o=e(this),r=o.attr("href"),i=e(o.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),o.data());o.is("a")&&n.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),t.call(i,a,this)})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),r=o.data("bs.tooltip"),i="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||o.data("bs.tooltip",r=new n(this,i)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,o){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),i=r.length;i--;){var a=r[i];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,o){n[e]!=o&&(t[e]=o)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var o=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!o)return;var r=this,i=this.tip(),a=this.getUID(this.type);this.setContent(),i.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=i[0].offsetWidth,h=i[0].offsetHeight;if(c){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+h>p.bottom?"top":"top"==s&&u.top-h<p.top?"bottom":"right"==s&&u.right+d>p.width?"left":"left"==s&&u.left-d<p.left?"right":s,i.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,u,d,h);this.applyPlacement(m,s);var g=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var o=this.tip(),r=o[0].offsetWidth,i=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),s=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(o[0],e.extend({using:function(e){o.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),o.addClass("in");var l=o[0].offsetWidth,c=o[0].offsetHeight;"top"==n&&c!=i&&(t.top=t.top+i-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-r+l:2*u.top-i+c,f=d?"offsetWidth":"offsetHeight";o.offset(t),this.replaceArrow(h,o[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function o(){"in"!=r.hoverState&&i.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,i=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],o="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var i=window.SVGElement&&n instanceof window.SVGElement,a=o?{top:0,left:0}:i?null:t.offset(),s={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=o?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,a)},n.prototype.getCalculatedOffset=function(e,t,n,o){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-o,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-o/2,left:t.left-n}:{top:t.top+t.height/2-o/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,o){var r={top:0,left:0};if(!this.$viewport)return r;var i=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-i-a.scroll,l=t.top+i-a.scroll+o;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-i,u=t.left+i+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},n.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},n.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var o=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=o,this}}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),r=o.data("bs.popover"),i="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||o.data("bs.popover",r=new n(this,i)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=o,this}}(jQuery),function(e){"use strict";function t(n,o){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var o=e(this),r=o.data("bs.scrollspy"),i="object"==typeof n&&n;r||o.data("bs.scrollspy",r=new t(this,i)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),i=/^#./.test(r)&&e(r);return i&&i.length&&i.is(":visible")&&[[i[n]().top+o,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),o=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,i=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=o)return a!=(e=i[i.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=i[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(i[e])},t.prototype.activate=function(t){
this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',o=e(n).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=o,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),r=o.data("bs.tab");r||o.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),o=t.data("target");if(o||(o=t.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),i=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(i),t.trigger(a),!a.isDefaultPrevented()&&!i.isDefaultPrevented()){var s=e(o);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,o,r){function i(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=o.find("> .active"),s=r&&e.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),a.removeClass("in")};var o=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=o,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var o=e(this),r=o.data("bs.affix"),i="object"==typeof t&&t;r||o.data("bs.affix",r=new n(this,i)),"string"==typeof t&&r[t]()})}var n=function(t,o){this.options=e.extend({},n.DEFAULTS,o),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,o){var r=this.$target.scrollTop(),i=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=i.top)&&"bottom":!(r+a<=e-o)&&"bottom";var s=null==this.affixed,l=s?r:i.top,c=s?a:t;return null!=n&&r<=n?"top":null!=o&&l+c>=e-o&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),o=this.options.offset,r=o.top,i=o.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof o&&(i=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof i&&(i=o.bottom(this.$element));var s=this.getState(a,t,r,i);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-i})}};var o=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=o,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),o=n.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),t.call(n,o)})})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,o){function r(t){var n,o,i={};e.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(o=e.replace(n[0],n[2].toLowerCase()),i[o]=e,"o"===n[1]&&r(t[e]))}),t._hungarianMap=i}function i(t,n,a){t._hungarianMap||r(t);var s;e.each(n,function(r){(s=t._hungarianMap[r])===o||!a&&n[s]!==o||("o"===s.charAt(0)?(n[s]||(n[s]={}),e.extend(!0,n[s],n[r]),i(t[s],n[s],a)):n[s]=n[r])})}function a(e){var t=Ve.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Ie(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Ie(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&Be(e)}function s(e){if(ct(e,"ordering","bSort"),ct(e,"orderMulti","bSortMulti"),ct(e,"orderClasses","bSortClasses"),ct(e,"orderCellsTop","bSortCellsTop"),ct(e,"order","aaSorting"),ct(e,"orderFixed","aaSortingFixed"),ct(e,"paging","bPaginate"),ct(e,"pagingType","sPaginationType"),ct(e,"pageLength","iDisplayLength"),ct(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&i(Ve.models.oSearch,e[t])}function l(t){ct(t,"orderable","bSortable"),ct(t,"orderData","aDataSort"),ct(t,"orderSequence","asSorting"),ct(t,"orderDataType","sortDataType");var n=t.aDataSort;"number"==typeof n&&!e.isArray(n)&&(t.aDataSort=[n])}function c(n){if(!Ve.__browser){var o={};Ve.__browser=o;var r=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=r.children(),a=i.children();o.barWidth=i[0].offsetWidth-i[0].clientWidth,o.bScrollOversize=100===a[0].offsetWidth&&100!==i[0].clientWidth,o.bScrollbarLeft=1!==Math.round(a.offset().left),o.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(n.oBrowser,Ve.__browser),n.oScroll.iBarWidth=Ve.__browser.barWidth}function u(e,t,n,r,i,a){var s,l=!1;for(n!==o&&(s=n,l=!0);r!==i;)e.hasOwnProperty(r)&&(s=l?t(s,e[r],r,e):e[r],l=!0,r+=a);return s}function d(t,o){var r=Ve.defaults.column,i=t.aoColumns.length,r=e.extend({},Ve.models.oColumn,r,{nTh:o?o:n.createElement("th"),sTitle:r.sTitle?r.sTitle:o?o.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[i],mData:r.mData?r.mData:i,idx:i});t.aoColumns.push(r),r=t.aoPreSearchCols,r[i]=e.extend({},Ve.models.oSearch,r[i]),h(t,i,e(o).data())}function h(t,n,r){var n=t.aoColumns[n],a=t.oClasses,s=e(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var c=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(n.sWidthOrig=c[1])}r!==o&&null!==r&&(l(r),i(Ve.defaults.column,r),r.mDataProp!==o&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),e.extend(n,r),Ie(n,r,"sWidth","sWidthOrig"),r.iDataSort!==o&&(n.aDataSort=[r.iDataSort]),Ie(n,r,"aDataSort"));var u=n.mData,d=T(u),h=n.mRender?T(n.mRender):null,r=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};n._bAttrSrc=e.isPlainObject(u)&&(r(u.sort)||r(u.type)||r(u.filter)),n._setter=null,n.fnGetData=function(e,t,n){var r=d(e,t,o,n);return h&&t?h(r,t,e,n):r},n.fnSetData=function(e,t,n){return D(u)(e,t,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone)),t=-1!==e.inArray("asc",n.asSorting),r=-1!==e.inArray("desc",n.asSorting),n.bSortable&&(t||r)?t&&!r?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!t&&r?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI):(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI="")}function f(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;me(e);for(var n=0,o=t.length;n<o;n++)t[n].nTh.style.width=t[n].sWidth}t=e.oScroll,(""!==t.sY||""!==t.sX)&&fe(e),$e(e,null,"column-sizing",[e])}function p(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(t,n){var o=v(t,"bVisible"),o=e.inArray(n,o);return-1!==o?o:null}function g(t){var n=0;return e.each(t.aoColumns,function(t,o){o.bVisible&&"none"!==e(o.nTh).css("display")&&n++}),n}function v(t,n){var o=[];return e.map(t.aoColumns,function(e,t){e[n]&&o.push(t)}),o}function y(e){var t,n,r,i,a,s,l,c,u,d=e.aoColumns,h=e.aoData,f=Ve.ext.type.detect;for(t=0,n=d.length;t<n;t++)if(l=d[t],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,i=f.length;r<i;r++){for(a=0,s=h.length;a<s&&(u[a]===o&&(u[a]=S(e,a,t,"type")),(c=f[r](u[a],e))||r===f.length-1)&&"html"!==c;a++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(t,n,r,i){var a,s,l,c,u,h,f=t.aoColumns;if(n)for(a=n.length-1;0<=a;a--){h=n[a];var p=h.targets!==o?h.targets:h.aTargets;for(e.isArray(p)||(p=[p]),s=0,l=p.length;s<l;s++)if("number"==typeof p[s]&&0<=p[s]){for(;f.length<=p[s];)d(t);i(p[s],h)}else if("number"==typeof p[s]&&0>p[s])i(f.length+p[s],h);else if("string"==typeof p[s])for(c=0,u=f.length;c<u;c++)("_all"==p[s]||e(f[c].nTh).hasClass(p[s]))&&i(c,h)}if(r)for(a=0,t=r.length;a<t;a++)i(a,r[a])}function w(t,n,r,i){var a=t.aoData.length,s=e.extend(!0,{},Ve.models.oRow,{src:r?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var l=t.aoColumns,c=0,u=l.length;c<u;c++)l[c].sType=null;return t.aiDisplayMaster.push(a),n=t.rowIdFn(n),n!==o&&(t.aIds[n]=s),(r||!t.oFeatures.bDeferRender)&&O(t,a,r,i),a}function C(t,n){var o;return n instanceof e||(n=e(n)),n.map(function(e,n){return o=I(t,n),w(t,o.data,n,o.cells)})}function S(e,t,n,r){var i=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,c=a.fnGetData(s,r,{settings:e,row:t,col:n});if(c===o)return e.iDrawError!=i&&null===l&&(Re(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=i),l;if(c!==s&&null!==c||null===l||r===o){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==r?"":c}function _(e,t,n,o){e.aoColumns[n].fnSetData(e.aoData[t]._aData,o,{settings:e,row:t,col:n})}function x(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function T(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=T(t))}),function(e,t,r,i){var a=n[t]||n._;return a!==o?a(e,t,r,i):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,o,r){return t(e,n,o,r)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var r=function(t,n,i){var a,s;if(""!==i){s=x(i);for(var l=0,c=s.length;l<c;l++){if(i=s[l].match(ut),a=s[l].match(dt),i){if(s[l]=s[l].replace(ut,""),""!==s[l]&&(t=t[s[l]]),a=[],s.splice(0,l+1),s=s.join("."),e.isArray(t))for(l=0,c=t.length;l<c;l++)a.push(r(t[l],n,s));t=i[0].substring(1,i[0].length-1),t=""===t?a:a.join(t);break}if(a)s[l]=s[l].replace(dt,""),t=t[s[l]]();else{if(null===t||t[s[l]]===o)return o;t=t[s[l]]}}}return t};return function(e,n){return r(e,n,t)}}return function(e){return e[t]}}function D(t){if(e.isPlainObject(t))return D(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,o){t(e,"set",n,o)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var n=function(t,r,i){var a,i=x(i);a=i[i.length-1];for(var s,l,c=0,u=i.length-1;c<u;c++){if(s=i[c].match(ut),l=i[c].match(dt),s){if(i[c]=i[c].replace(ut,""),t[i[c]]=[],a=i.slice(),a.splice(0,c+1),s=a.join("."),e.isArray(r))for(l=0,u=r.length;l<u;l++)a={},n(a,r[l],s),t[i[c]].push(a);else t[i[c]]=r;return}l&&(i[c]=i[c].replace(dt,""),t=t[i[c]](r)),null!==t[i[c]]&&t[i[c]]!==o||(t[i[c]]={}),t=t[i[c]]}a.match(dt)?t[a.replace(dt,"")](r):t[a.replace(ut,"")]=r};return function(e,o){return n(e,o,t)}}return function(e,n){e[t]=n}}function E(e){return rt(e.aoData,"_aData")}function N(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function A(e,t,n){for(var r=-1,i=0,a=e.length;i<a;i++)e[i]==t?r=i:e[i]>t&&e[i]--;-1!=r&&n===o&&e.splice(r,1)}function R(e,t,n,r){var i,a=e.aoData[t],s=function(n,o){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=S(e,t,o,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var l=a.anCells;if(l)if(r!==o)s(l[r],r);else for(n=0,i=l.length;n<i;n++)s(l[n],n)}else a._aData=I(e,a,r,r===o?o:a._aData).data;if(a._aSortData=null,a._aFilterData=null,s=e.aoColumns,r!==o)s[r].sType=null;else{for(n=0,i=s.length;n<i;n++)s[n].sType=null;k(e,a)}}function I(t,n,r,i){var a,s,l,c=[],u=n.firstChild,d=0,h=t.aoColumns,f=t._rowReadObject,i=i!==o?i:f?{}:[],p=function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),D(e)(i,t.getAttribute(n)))}},m=function(t){r!==o&&r!==d||(s=h[d],l=e.trim(t.innerHTML),s&&s._bAttrSrc?(D(s.mData._)(i,l),p(s.mData.sort,t),p(s.mData.type,t),p(s.mData.filter,t)):f?(s._setter||(s._setter=D(s.mData)),s._setter(i,l)):i[d]=l),d++};if(u)for(;u;)a=u.nodeName.toUpperCase(),"TD"!=a&&"TH"!=a||(m(u),c.push(u)),u=u.nextSibling;else for(c=n.anCells,u=0,a=c.length;u<a;u++)m(c[u]);return(n=n.firstChild?n:n.nTr)&&(n=n.getAttribute("id"))&&D(t.rowId)(i,n),{data:i,cells:c}}function O(t,o,r,i){var a,s,l,c,u,d=t.aoData[o],h=d._aData,f=[];if(null===d.nTr){for(a=r||n.createElement("tr"),d.nTr=a,d.anCells=f,a._DT_RowIndex=o,k(t,d),c=0,u=t.aoColumns.length;c<u;c++)l=t.aoColumns[c],s=r?i[c]:n.createElement(l.sCellType),s._DT_CellIndex={row:o,column:c},f.push(s),r&&!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display"||(s.innerHTML=S(t,o,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?a.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,s,S(t,o,c),h,o,c);$e(t,"aoRowCreatedCallback",null,[a,h,o])}d.nTr.setAttribute("role","row")}function k(t,n){var o=n.nTr,r=n._aData;if(o){var i=t.rowIdFn(r);i&&(o.id=i),r.DT_RowClass&&(i=r.DT_RowClass.split(" "),n.__rowc=n.__rowc?lt(n.__rowc.concat(i)):i,e(o).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&e(o).attr(r.DT_RowAttr),r.DT_RowData&&e(o).data(r.DT_RowData)}}function L(t){var n,o,r,i,a,s=t.nTHead,l=t.nTFoot,c=0===e("th, td",s).length,u=t.oClasses,d=t.aoColumns;for(c&&(i=e("<tr/>").appendTo(s)),n=0,o=d.length;n<o;n++)a=d[n],r=e(a.nTh).addClass(a.sClass),c&&r.appendTo(i),t.oFeatures.bSort&&(r.addClass(a.sSortingClass),!1!==a.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),xe(t,a.nTh,n))),a.sTitle!=r[0].innerHTML&&r.html(a.sTitle),Me(t,"header")(t,r,a,u);if(c&&j(t.aoHeader,s),e(s).find(">tr").attr("role","row"),e(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l)for(t=t.aoFooter[0],n=0,o=t.length;n<o;n++)a=d[n],a.nTf=t[n].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}function $(t,n,r){var i,a,s,l,c=[],u=[],d=t.aoColumns.length;if(n){for(r===o&&(r=!1),i=0,a=n.length;i<a;i++){for(c[i]=n[i].slice(),c[i].nTr=n[i].nTr,s=d-1;0<=s;s--)!t.aoColumns[s].bVisible&&!r&&c[i].splice(s,1);u.push([])}for(i=0,a=c.length;i<a;i++){if(t=c[i].nTr)for(;s=t.firstChild;)t.removeChild(s);for(s=0,n=c[i].length;s<n;s++)if(l=d=1,u[i][s]===o){for(t.appendChild(c[i][s].cell),u[i][s]=1;c[i+d]!==o&&c[i][s].cell==c[i+d][s].cell;)u[i+d][s]=1,d++;for(;c[i][s+l]!==o&&c[i][s].cell==c[i][s+l].cell;){for(r=0;r<d;r++)u[i+r][s+l]=1;l++}e(c[i][s].cell).attr("rowspan",d).attr("colspan",l)}}}}function P(t){var n=$e(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,n))de(t,!1);else{var n=[],r=0,i=t.asStripeClasses,a=i.length,s=t.oLanguage,l=t.iInitDisplayStart,c="ssp"==He(t),u=t.aiDisplay;t.bDrawing=!0,l!==o&&-1!==l&&(t._iDisplayStart=c?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var l=t._iDisplayStart,d=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,de(t,!1);else if(c){if(!t.bDestroying&&!q(t))return}else t.iDraw++;if(0!==u.length)for(s=c?t.aoData.length:d,c=c?0:l;c<s;c++){var h=u[c],f=t.aoData[h];if(null===f.nTr&&O(t,h),h=f.nTr,0!==a){var p=i[r%a];f._sRowStripe!=p&&(e(h).removeClass(f._sRowStripe).addClass(p),f._sRowStripe=p)}$e(t,"aoRowCallback",null,[h,f._aData,r,c]),n.push(h),r++}else r=s.sZeroRecords,1==t.iDraw&&"ajax"==He(t)?r=s.sLoadingRecords:s.sEmptyTable&&0===t.fnRecordsTotal()&&(r=s.sEmptyTable),n[0]=e("<tr/>",{class:a?i[0]:""}).append(e("<td />",{valign:"top",colSpan:g(t),class:t.oClasses.sRowEmpty}).html(r))[0];$e(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],E(t),l,d,u]),$e(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],E(t),l,d,u]),i=e(t.nTBody),i.children().detach(),i.append(e(n)),$e(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function M(e,t){var n=e.oFeatures,o=n.bFilter;n.bSort&&Ce(e),o?G(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,P(e),e._drawHold=!1}function H(t){var n=t.oClasses,o=e(t.nTable),o=e("<div/>").insertBefore(o),r=t.oFeatures,i=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=o[0],t.nTableWrapper=i[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,s,l,c,u,d,h=t.sDom.split(""),f=0;f<h.length;f++){if(a=null,"<"==(s=h[f])){if(l=e("<div/>")[0],"'"==(c=h[f+1])||'"'==c){for(u="",d=2;h[f+d]!=c;)u+=h[f+d],d++;"H"==u?u=n.sJUIHeader:"F"==u&&(u=n.sJUIFooter),-1!=u.indexOf(".")?(c=u.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==u.charAt(0)?l.id=u.substr(1,u.length-1):l.className=u,f+=d}i.append(l),i=e(l)}else if(">"==s)i=i.parent();else if("l"==s&&r.bPaginate&&r.bLengthChange)a=se(t);else if("f"==s&&r.bFilter)a=V(t);else if("r"==s&&r.bProcessing)a=ue(t);else if("t"==s)a=he(t);else if("i"==s&&r.bInfo)a=te(t);else if("p"==s&&r.bPaginate)a=le(t);else if(0!==Ve.ext.feature.length)for(l=Ve.ext.feature,d=0,c=l.length;d<c;d++)if(s==l[d].cFeature){a=l[d].fnInit(t);break}a&&(l=t.aanFeatures,l[s]||(l[s]=[]),l[s].push(a),i.append(a))}o.replaceWith(i),t.nHolding=null}function j(t,n){var o,r,i,a,s,l,c,u,d,h,f=e(n).children("tr");for(t.splice(0,t.length),i=0,l=f.length;i<l;i++)t.push([]);for(i=0,l=f.length;i<l;i++)for(o=f[i],r=o.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase()){for(u=1*r.getAttribute("colspan"),d=1*r.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,d=d&&0!==d&&1!==d?d:1,a=0,s=t[i];s[a];)a++;for(c=a,h=1===u,s=0;s<u;s++)for(a=0;a<d;a++)t[i+a][c+s]={cell:r,unique:h},t[i+a].nTr=o}r=r.nextSibling}}function B(e,t,n){var o=[];n||(n=e.aoHeader,t&&(n=[],j(n,t)));for(var t=0,r=n.length;t<r;t++)for(var i=0,a=n[t].length;i<a;i++)!n[t][i].unique||o[i]&&e.bSortCellsTop||(o[i]=n[t][i].cell);return o}function F(t,n,o){if($e(t,"aoServerParams","serverParams",[n]),n&&e.isArray(n)){var r={};e.each(n,function(e,t){var n=t.name.match(/(.*?)\[\]$/);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(t.value)):r[t.name]=t.value}),n=r}var i,a=t.ajax,s=t.oInstance,l=function(e){$e(t,null,"xhr",[t,e,t.jqXHR]),o(e)};if(e.isPlainObject(a)&&a.data){i=a.data;var c=e.isFunction(i)?i(n,t):i,n=e.isFunction(i)&&c?c:e.extend(!0,n,c);delete a.data}c={data:n,success:function(e){var n=e.error||e.sError;n&&Re(t,0,n),t.json=e,l(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,o){var r=$e(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,r)&&("parsererror"==o?Re(t,0,"Invalid JSON response",1):4===n.readyState&&Re(t,0,"Ajax error",7)),de(t,!1)}},t.oAjaxData=n,$e(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(s,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),l,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=e.ajax(e.extend(c,{url:a||t.sAjaxSource})):e.isFunction(a)?t.jqXHR=a.call(s,n,l,t):(t.jqXHR=e.ajax(e.extend(c,a)),a.data=i)}function q(e){return!e.bAjaxDataGet||(e.iDraw++,de(e,!0),F(e,U(e),function(t){W(e,t)}),!1)}function U(t){var n,o,r,i,a=t.aoColumns,s=a.length,l=t.oFeatures,c=t.oPreviousSearch,u=t.aoPreSearchCols,d=[],h=we(t);n=t._iDisplayStart,o=!1!==l.bPaginate?t._iDisplayLength:-1;var f=function(e,t){d.push({name:e,value:t})};f("sEcho",t.iDraw),f("iColumns",s),f("sColumns",rt(a,"sName").join(",")),f("iDisplayStart",n),f("iDisplayLength",o);var p={draw:t.iDraw,columns:[],order:[],start:n,length:o,search:{value:c.sSearch,regex:c.bRegex}};for(n=0;n<s;n++)r=a[n],i=u[n],o="function"==typeof r.mData?"function":r.mData,p.columns.push({data:o,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:i.sSearch,regex:i.bRegex}}),f("mDataProp_"+n,o),l.bFilter&&(f("sSearch_"+n,i.sSearch),f("bRegex_"+n,i.bRegex),f("bSearchable_"+n,r.bSearchable)),l.bSort&&f("bSortable_"+n,r.bSortable);return l.bFilter&&(f("sSearch",c.sSearch),f("bRegex",c.bRegex)),l.bSort&&(e.each(h,function(e,t){p.order.push({column:t.col,dir:t.dir}),f("iSortCol_"+e,t.col),f("sSortDir_"+e,t.dir)}),f("iSortingCols",h.length)),a=Ve.ext.legacy.ajax,null===a?t.sAjaxSource?d:p:a?d:p}function W(e,t){var n=z(e,t),r=t.sEcho!==o?t.sEcho:t.draw,i=t.iTotalRecords!==o?t.iTotalRecords:t.recordsTotal,a=t.iTotalDisplayRecords!==o?t.iTotalDisplayRecords:t.recordsFiltered;if(r){if(1*r<e.iDraw)return;e.iDraw=1*r}for(N(e),e._iRecordsTotal=parseInt(i,10),e._iRecordsDisplay=parseInt(a,10),r=0,i=n.length;r<i;r++)w(e,n[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,P(e),e._bInitComplete||ie(e,t),e.bAjaxDataGet=!0,de(e,!1)}function z(t,n){var r=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==o?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?T(r)(n):n}function V(t){var o=t.oClasses,r=t.sTableId,i=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+o.sFilterInput+'"/>',c=i.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,o=e("<div/>",{id:s.f?null:r+"_filter",class:o.sFilter}).append(e("<label/>").append(c)),s=function(){var e=this.value?this.value:"";e!=a.sSearch&&(G(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,P(t))},l=null!==t.searchDelay?t.searchDelay:"ssp"===He(t)?400:0,u=e("input",o).val(a.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",l?gt(s,l):s).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",r);return e(t.nTable).on("search.dt.DT",function(e,o){if(t===o)try{u[0]!==n.activeElement&&u.val(a.sSearch)}catch(e){}}),o[0]}function G(e,t,n){var r=e.oPreviousSearch,i=e.aoPreSearchCols,a=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive};if(y(e),"ssp"!=He(e)){for(X(e,t.sSearch,n,t.bEscapeRegex!==o?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),a(t),t=0;t<i.length;t++)Y(e,i[t].sSearch,t,i[t].bEscapeRegex!==o?!i[t].bEscapeRegex:i[t].bRegex,i[t].bSmart,i[t].bCaseInsensitive);K(e)}else a(t);e.bFiltered=!0,$e(e,null,"search",[e])}function K(t){for(var n,o,r=Ve.ext.search,i=t.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],c=0,u=i.length;c<u;c++)o=i[c],n=t.aoData[o],r[a](t,n._aFilterData,o,n._aData,c)&&l.push(o);i.length=0,e.merge(i,l)}}function Y(e,t,n,o,r,i){if(""!==t){for(var a=[],s=e.aiDisplay,o=J(t,o,r,i),r=0;r<s.length;r++)t=e.aoData[s[r]]._aFilterData[n],o.test(t)&&a.push(s[r]);e.aiDisplay=a}}function X(e,t,n,o,r,i){var a,o=J(t,o,r,i),i=e.oPreviousSearch.sSearch,s=e.aiDisplayMaster,r=[];if(0!==Ve.ext.search.length&&(n=!0),a=Q(e),0>=t.length)e.aiDisplay=s.slice();else{for((a||n||i.length>t.length||0!==t.indexOf(i)||e.bSorted)&&(e.aiDisplay=s.slice()),t=e.aiDisplay,n=0;n<t.length;n++)o.test(e.aoData[t[n]]._sFilterRow)&&r.push(t[n]);e.aiDisplay=r}}function J(t,n,o,r){return t=n?t:ht(t),o&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0))var t=e.match(/^"(.*)"$/),e=t?t[1]:e;return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,r?"i":"")}function Q(e){var t,n,o,r,i,a,s,l,c=e.aoColumns,u=Ve.ext.type.search;for(t=!1,n=0,r=e.aoData.length;n<r;n++)if(l=e.aoData[n],!l._aFilterData){for(a=[],o=0,i=c.length;o<i;o++)t=c[o],t.bSearchable?(s=S(e,n,o,"filter"),u[t.sType]&&(s=u[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(ft.innerHTML=s,s=pt?ft.textContent:ft.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),t=!0}return t}function Z(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ee(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function te(t){var n=t.sTableId,o=t.aanFeatures.i,r=e("<div/>",{class:t.oClasses.sInfo,id:o?null:n+"_info"});return o||(t.aoDrawCallback.push({fn:ne,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),r[0]}function ne(t){var n=t.aanFeatures.i;if(0!==n.length){var o=t.oLanguage,r=t._iDisplayStart+1,i=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?o.sInfo:o.sInfoEmpty;s!==a&&(l+=" "+o.sInfoFiltered),l+=o.sInfoPostFix,l=oe(t,l),o=o.fnInfoCallback,null!==o&&(l=o.call(t.oInstance,t,r,i,a,s,l)),e(n).html(l)}}function oe(e,t){var n=e.fnFormatNumber,o=e._iDisplayStart+1,r=e._iDisplayLength,i=e.fnRecordsDisplay(),a=-1===r;return t.replace(/_START_/g,n.call(e,o)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,i)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(o/r))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(i/r)))}function re(e){var t,n,o,r=e.iInitDisplayStart,i=e.aoColumns;n=e.oFeatures;var a=e.bDeferLoading;if(e.bInitialised){for(H(e),L(e),$(e,e.aoHeader),$(e,e.aoFooter),de(e,!0),n.bAutoWidth&&me(e),t=0,n=i.length;t<n;t++)o=i[t],o.sWidth&&(o.nTh.style.width=be(o.sWidth));$e(e,null,"preInit",[e]),M(e),i=He(e),("ssp"!=i||a)&&("ajax"==i?F(e,[],function(n){var o=z(e,n);for(t=0;t<o.length;t++)w(e,o[t]);e.iInitDisplayStart=r,M(e),de(e,!1),ie(e,n)},e):(de(e,!1),ie(e)))}else setTimeout(function(){re(e)},200)}function ie(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&f(e),$e(e,null,"plugin-init",[e,t]),$e(e,"aoInitComplete","init",[e,t])}function ae(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Pe(e),$e(e,null,"length",[e,n])}function se(t){for(var n=t.oClasses,o=t.sTableId,r=t.aLengthMenu,i=e.isArray(r[0]),a=i?r[0]:r,r=i?r[1]:r,i=e("<select/>",{name:o+"_length","aria-controls":o,class:n.sLengthSelect}),s=0,l=a.length;s<l;s++)i[0][s]=new Option(r[s],a[s]);var c=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(c[0].id=o+"_length"),c.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",i[0].outerHTML)),e("select",c).val(t._iDisplayLength).on("change.DT",function(){ae(t,e(this).val()),P(t)}),e(t.nTable).on("length.dt.DT",function(n,o,r){t===o&&e("select",c).val(r)}),c[0]}function le(t){var n=t.sPaginationType,o=Ve.ext.pager[n],r="function"==typeof o,i=function(e){P(e)},n=e("<div/>").addClass(t.oClasses.sPaging+n)[0],a=t.aanFeatures;return r||o.fnInit(t,n,i),a.p||(n.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,n=e._iDisplayStart,s=e._iDisplayLength,l=e.fnRecordsDisplay(),c=-1===s,n=c?0:Math.ceil(n/s),s=c?1:Math.ceil(l/s),l=o(n,s),c=0;for(t=a.p.length;c<t;c++)Me(e,"pageButton")(e,a.p[c],c,l,n,s)}else o.fnUpdate(e,i)},sName:"pagination"})),n}function ce(e,t,n){var o=e._iDisplayStart,r=e._iDisplayLength,i=e.fnRecordsDisplay();return 0===i||-1===r?o=0:"number"==typeof t?(o=t*r)>i&&(o=0):"first"==t?o=0:"previous"==t?0>(o=0<=r?o-r:0)&&(o=0):"next"==t?o+r<i&&(o+=r):"last"==t?o=Math.floor((i-1)/r)*r:Re(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==o,e._iDisplayStart=o,t&&($e(e,null,"page",[e]),n&&P(e)),t}function ue(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function de(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),$e(t,null,"processing",[t,n])}function he(t){var n=e(t.nTable);n.attr("role","grid");var o=t.oScroll;if(""===o.sX&&""===o.sY)return t.nTable;var r=o.sX,i=o.sY,a=t.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,c=e(n[0].cloneNode(!1)),u=e(n[0].cloneNode(!1)),d=n.children("tfoot");d.length||(d=null),c=e("<div/>",{class:a.sScrollWrapper}).append(e("<div/>",{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?be(r):null:"100%"}).append(e("<div/>",{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:o.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(e("<div/>",{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:r?be(r):null}).append(n)),d&&c.append(e("<div/>",{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?be(r):null:"100%"}).append(e("<div/>",{class:a.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var n=c.children(),h=n[0],a=n[1],f=d?n[2]:null;return r&&e(a).on("scroll.DT",function(){var e=this.scrollLeft;h.scrollLeft=e,d&&(f.scrollLeft=e)}),e(a).css(i&&o.bCollapse?"max-height":"height",i),t.nScrollHead=h,t.nScrollBody=a,t.nScrollFoot=f,t.aoDrawCallback.push({fn:fe,sName:"scrolling"}),c[0]}function fe(t){var n,r,i,a,s,l=t.oScroll,c=l.sX,u=l.sXInner,d=l.sY,l=l.iBarWidth,h=e(t.nScrollHead),m=h[0].style,g=h.children("div"),v=g[0].style,y=g.children("table"),g=t.nScrollBody,b=e(g),w=g.style,C=e(t.nScrollFoot).children("div"),S=C.children("table"),_=e(t.nTHead),x=e(t.nTable),T=x[0],D=T.style,E=t.nTFoot?e(t.nTFoot):null,N=t.oBrowser,A=N.bScrollOversize,R=rt(t.aoColumns,"nTh"),I=[],O=[],k=[],L=[],$=function(e){e=e.style,e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};r=g.scrollHeight>g.clientHeight,t.scrollBarVis!==r&&t.scrollBarVis!==o?(t.scrollBarVis=r,f(t)):(t.scrollBarVis=r,x.children("thead, tfoot").remove(),E&&(i=E.clone().prependTo(x),n=E.find("tr"),i=i.find("tr")),a=_.clone().prependTo(x),_=_.find("tr"),r=a.find("tr"),a.find("th, td").removeAttr("tabindex"),c||(w.width="100%",h[0].style.width="100%"),e.each(B(t,a),function(e,n){s=p(t,e),n.style.width=t.aoColumns[s].sWidth}),E&&pe(function(e){e.style.width=""},i),h=x.outerWidth(),""===c?(D.width="100%",A&&(x.find("tbody").height()>g.offsetHeight||"scroll"==b.css("overflow-y"))&&(D.width=be(x.outerWidth()-l)),h=x.outerWidth()):""!==u&&(D.width=be(u),h=x.outerWidth()),pe($,r),pe(function(t){k.push(t.innerHTML),I.push(be(e(t).css("width")))},r),pe(function(t,n){e.inArray(t,R)!==-1&&(t.style.width=I[n])},_),e(r).height(0),E&&(pe($,i),pe(function(t){L.push(t.innerHTML),
O.push(be(e(t).css("width")))},i),pe(function(e,t){e.style.width=O[t]},n),e(i).height(0)),pe(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+k[t]+"</div>",e.style.width=I[t]},r),E&&pe(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[t]+"</div>",e.style.width=O[t]},i),x.outerWidth()<h?(n=g.scrollHeight>g.offsetHeight||"scroll"==b.css("overflow-y")?h+l:h,A&&(g.scrollHeight>g.offsetHeight||"scroll"==b.css("overflow-y"))&&(D.width=be(n-l)),(""===c||""!==u)&&Re(t,1,"Possible column misalignment",6)):n="100%",w.width=be(n),m.width=be(n),E&&(t.nScrollFoot.style.width=be(n)),!d&&A&&(w.height=be(T.offsetHeight+l)),c=x.outerWidth(),y[0].style.width=be(c),v.width=be(c),u=x.height()>g.clientHeight||"scroll"==b.css("overflow-y"),d="padding"+(N.bScrollbarLeft?"Left":"Right"),v[d]=u?l+"px":"0px",E&&(S[0].style.width=be(c),C[0].style.width=be(c),C[0].style[d]=u?l+"px":"0px"),x.children("colgroup").insertBefore(x.children("thead")),b.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(g.scrollTop=0))}function pe(e,t,n){for(var o,r,i=0,a=0,s=t.length;a<s;){for(o=t[a].firstChild,r=n?n[a].firstChild:null;o;)1===o.nodeType&&(n?e(o,r,i):e(o,i),i++),o=o.nextSibling,r=n?r.nextSibling:null;a++}}function me(n){var o,r,i=n.nTable,a=n.aoColumns,s=n.oScroll,l=s.sY,c=s.sX,u=s.sXInner,d=a.length,h=v(n,"bVisible"),m=e("th",n.nTHead),y=i.getAttribute("width"),b=i.parentNode,w=!1,C=n.oBrowser,s=C.bScrollOversize;for((o=i.style.width)&&-1!==o.indexOf("%")&&(y=o),o=0;o<h.length;o++)r=a[h[o]],null!==r.sWidth&&(r.sWidth=ge(r.sWidthOrig,b),w=!0);if(s||!w&&!c&&!l&&d==g(n)&&d==m.length)for(o=0;o<d;o++)null!==(h=p(n,o))&&(a[h].sWidth=be(m.eq(o).width()));else{d=e(i).clone().css("visibility","hidden").removeAttr("id"),d.find("tbody tr").remove();var S=e("<tr/>").appendTo(d.find("tbody"));for(d.find("thead, tfoot").remove(),d.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),d.find("tfoot th, tfoot td").css("width",""),m=B(n,d.find("thead")[0]),o=0;o<h.length;o++)r=a[h[o]],m[o].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?be(r.sWidthOrig):"",r.sWidthOrig&&c&&e(m[o]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(o=0;o<h.length;o++)w=h[o],r=a[w],e(ve(n,w)).clone(!1).append(r.sContentPadding).appendTo(S);for(e("[name]",d).removeAttr("name"),r=e("<div/>").css(c||l?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(d).appendTo(b),c&&u?d.width(u):c?(d.css("width","auto"),d.removeAttr("width"),d.width()<b.clientWidth&&y&&d.width(b.clientWidth)):l?d.width(b.clientWidth):y&&d.width(y),o=l=0;o<h.length;o++)b=e(m[o]),u=b.outerWidth()-b.width(),b=C.bBounding?Math.ceil(m[o].getBoundingClientRect().width):b.outerWidth(),l+=b,a[h[o]].sWidth=be(b-u);i.style.width=be(l),r.remove()}y&&(i.style.width=be(y)),!y&&!c||n._reszEvt||(i=function(){e(t).on("resize.DT-"+n.sInstance,gt(function(){f(n)}))},s?setTimeout(i,1e3):i(),n._reszEvt=!0)}function ge(t,o){if(!t)return 0;var r=e("<div/>").css("width",be(t)).appendTo(o||n.body),i=r[0].offsetWidth;return r.remove(),i}function ve(t,n){var o=ye(t,n);if(0>o)return null;var r=t.aoData[o];return r.nTr?r.anCells[n]:e("<td/>").html(S(t,o,n,"display"))[0]}function ye(e,t){for(var n,o=-1,r=-1,i=0,a=e.aoData.length;i<a;i++)n=S(e,i,t,"display")+"",n=n.replace(mt,""),n=n.replace(/&nbsp;/g," "),n.length>o&&(o=n.length,r=i);return r}function be(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function we(t){var n,r,i,a,s,l,c=[],u=t.aoColumns;n=t.aaSortingFixed,r=e.isPlainObject(n);var d=[];for(i=function(t){t.length&&!e.isArray(t[0])?d.push(t):e.merge(d,t)},e.isArray(n)&&i(n),r&&n.pre&&i(n.pre),i(t.aaSorting),r&&n.post&&i(n.post),t=0;t<d.length;t++)for(l=d[t][0],i=u[l].aDataSort,n=0,r=i.length;n<r;n++)a=i[n],s=u[a].sType||"string",d[t]._idx===o&&(d[t]._idx=e.inArray(d[t][1],u[a].asSorting)),c.push({src:l,col:a,dir:d[t][1],index:d[t]._idx,type:s,formatter:Ve.ext.type.order[s+"-pre"]});return c}function Ce(e){var t,n,o,r,i=[],a=Ve.ext.type.order,s=e.aoData,l=0,c=e.aiDisplayMaster;for(y(e),r=we(e),t=0,n=r.length;t<n;t++)o=r[t],o.formatter&&l++,De(e,o.col);if("ssp"!=He(e)&&0!==r.length){for(t=0,n=c.length;t<n;t++)i[c[t]]=t;l===r.length?c.sort(function(e,t){var n,o,a,l,c=r.length,u=s[e]._aSortData,d=s[t]._aSortData;for(a=0;a<c;a++)if(l=r[a],n=u[l.col],o=d[l.col],0!==(n=n<o?-1:n>o?1:0))return"asc"===l.dir?n:-n;return n=i[e],o=i[t],n<o?-1:n>o?1:0}):c.sort(function(e,t){var n,o,l,c,u=r.length,d=s[e]._aSortData,h=s[t]._aSortData;for(l=0;l<u;l++)if(c=r[l],n=d[c.col],o=h[c.col],c=a[c.type+"-"+c.dir]||a["string-"+c.dir],0!==(n=c(n,o)))return n;return n=i[e],o=i[t],n<o?-1:n>o?1:0})}e.bSorted=!0}function Se(e){for(var t,n,o=e.aoColumns,r=we(e),e=e.oLanguage.oAria,i=0,a=o.length;i<a;i++){n=o[i];var s=n.asSorting;t=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<r.length&&r[0].col==i?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=s[r[0].index+1]||s[0]):n=s[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",t)}}function _e(t,n,r,i){var a=t.aaSorting,s=t.aoColumns[n].asSorting,l=function(t,n){var r=t._idx;return r===o&&(r=e.inArray(t[1],s)),r+1<s.length?r+1:n?null:0};"number"==typeof a[0]&&(a=t.aaSorting=[a]),r&&t.oFeatures.bSortMulti?(r=e.inArray(n,rt(a,"0")),-1!==r?(n=l(a[r],!0),null===n&&1===a.length&&(n=0),null===n?a.splice(r,1):(a[r][1]=s[n],a[r]._idx=n)):(a.push([n,s[0],0]),a[a.length-1]._idx=0)):a.length&&a[0][0]==n?(n=l(a[0]),a.length=1,a[0][1]=s[n],a[0]._idx=n):(a.length=0,a.push([n,s[0]]),a[0]._idx=0),M(t),"function"==typeof i&&i(t)}function xe(e,t,n,o){var r=e.aoColumns[n];ke(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(de(e,!0),setTimeout(function(){_e(e,n,t.shiftKey,o),"ssp"!==He(e)&&de(e,!1)},0)):_e(e,n,t.shiftKey,o))})}function Te(t){var n,o,r=t.aLastSort,i=t.oClasses.sSortColumn,a=we(t),s=t.oFeatures;if(s.bSort&&s.bSortClasses){for(s=0,n=r.length;s<n;s++)o=r[s].src,e(rt(t.aoData,"anCells",o)).removeClass(i+(2>s?s+1:3));for(s=0,n=a.length;s<n;s++)o=a[s].src,e(rt(t.aoData,"anCells",o)).addClass(i+(2>s?s+1:3))}t.aLastSort=a}function De(e,t){var n,o=e.aoColumns[t],r=Ve.ext.order[o.sSortDataType];r&&(n=r.call(e.oInstance,e,t,m(e,t)));for(var i,a=Ve.ext.type.order[o.sType+"-pre"],s=0,l=e.aoData.length;s<l;s++)o=e.aoData[s],o._aSortData||(o._aSortData=[]),(!o._aSortData[t]||r)&&(i=r?n[s]:S(e,s,t,"sort"),o._aSortData[t]=a?a(i):i)}function Ee(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Z(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:Z(t.aoPreSearchCols[n])}})};$e(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function Ne(t,n,r){var i,a,s=t.aoColumns,n=function(n){if(n&&n.time){var l=$e(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,l)&&!(0<(l=t.iStateDuration)&&n.time<+new Date-1e3*l||n.columns&&s.length!==n.columns.length)){if(t.oLoadedState=e.extend(!0,{},n),n.start!==o&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==o&&(t._iDisplayLength=n.length),n.order!==o&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==o&&e.extend(t.oPreviousSearch,ee(n.search)),n.columns)for(i=0,a=n.columns.length;i<a;i++)l=n.columns[i],l.visible!==o&&(s[i].bVisible=l.visible),l.search!==o&&e.extend(t.aoPreSearchCols[i],ee(l.search));$e(t,"aoStateLoaded","stateLoaded",[t,n])}}r()};if(t.oFeatures.bStateSave){var l=t.fnStateLoadCallback.call(t.oInstance,t,n);l!==o&&n(l)}else r()}function Ae(t){var n=Ve.settings,t=e.inArray(t,rt(n,"nTable"));return-1!==t?n[t]:null}function Re(e,n,o,r){if(o="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+o,r&&(o+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(o);else if(n=Ve.ext,n=n.sErrMode||n.errMode,e&&$e(e,null,"error",[e,r,o]),"alert"==n)alert(o);else{if("throw"==n)throw Error(o);"function"==typeof n&&n(e,r,o)}}function Ie(t,n,r,i){e.isArray(r)?e.each(r,function(o,r){e.isArray(r)?Ie(t,n,r[0],r[1]):Ie(t,n,r)}):(i===o&&(i=r),n[r]!==o&&(t[i]=n[r]))}function Oe(t,n,o){var r,i;for(i in n)n.hasOwnProperty(i)&&(r=n[i],e.isPlainObject(r)?(e.isPlainObject(t[i])||(t[i]={}),e.extend(!0,t[i],r)):t[i]=o&&"data"!==i&&"aaData"!==i&&e.isArray(r)?r.slice():r);return t}function ke(t,n,o){e(t).on("click.DT",n,function(e){t.blur(),o(e)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),o(e))}).on("selectstart.DT",function(){return!1})}function Le(e,t,n,o){n&&e[t].push({fn:n,sName:o})}function $e(t,n,o,r){var i=[];return n&&(i=e.map(t[n].slice().reverse(),function(e){return e.fn.apply(t.oInstance,r)})),null!==o&&(n=e.Event(o+".dt"),e(t.nTable).trigger(n,r),i.push(n.result)),i}function Pe(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),o=e._iDisplayLength;t>=n&&(t=n-o),t-=t%o,(-1===o||0>t)&&(t=0),e._iDisplayStart=t}function Me(t,n){var o=t.renderer,r=Ve.ext.renderer[n];return e.isPlainObject(o)&&o[n]?r[o[n]]||r._:"string"==typeof o?r[o]||r._:r._}function He(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function je(e,t){var n=[],n=Ot.numbers_length,o=Math.floor(n/2);return t<=n?n=at(0,t):e<=o?(n=at(0,n-2),n.push("ellipsis"),n.push(t-1)):(e>=t-1-o?n=at(t-(n-2),t):(n=at(e-o+2,e+o-1),n.push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Be(t){e.each({num:function(e){return kt(e,t)},"num-fmt":function(e){return kt(e,t,Qe)},"html-num":function(e){return kt(e,t,Ye)},"html-num-fmt":function(e){return kt(e,t,Ye,Qe)}},function(e,n){qe.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(qe.type.search[e+t]=qe.type.search.html)})}function Fe(e){return function(){var t=[Ae(this[Ve.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ve.ext.internal[e].apply(this,t)}}var qe,Ue,We,ze,Ve=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Ue(e?Ae(this[qe.iApiIndex]):this)},this.fnAddData=function(t,n){var r=this.api(!0),i=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(n===o||n)&&r.draw(),i.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===o||e?t.draw(!1):(""!==r.sX||""!==r.sY)&&fe(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===o||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),e=r.rows(e),i=e.settings()[0],a=i.aoData[e[0][0]];return e.remove(),t&&t.call(this,i,a),(n===o||n)&&r.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,i,a){i=this.api(!0),null===t||t===o?i.search(e,n,r,a):i.column(t).search(e,n,r,a),i.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==o){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==o||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==o?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?(e=t.cell(e).index(),[e.row,e.columnVisible,e.column]):null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===o||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){e=this.api(!0).column(e).visible(t),(n===o||n)&&e.columns.adjust().draw()},this.fnSettings=function(){return Ae(this[qe.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,i){var a=this.api(!0);return n===o||null===n?a.row(t).data(e):a.cell(t,n).data(e),(i===o||i)&&a.columns.adjust(),(r===o||r)&&a.draw(),0},this.fnVersionCheck=qe.fnVersionCheck;var n=this,r=t===o,u=this.length;r&&(t={}),this.oApi=this.internal=qe.internal;for(var f in Ve.ext.internal)f&&(this[f]=Fe(f));return this.each(function(){var f,p={},m=1<u?Oe(p,t,!0):t,g=0,p=this.getAttribute("id"),v=!1,y=Ve.defaults,S=e(this);if("table"!=this.nodeName.toLowerCase())Re(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{s(y),l(y.column),i(y,y,!0),i(y.column,y.column,!0),i(y,e.extend(m,S.data()));var _=Ve.settings,g=0;for(f=_.length;g<f;g++){var x=_[g];if(x.nTable==this||x.nTHead.parentNode==this||x.nTFoot&&x.nTFoot.parentNode==this){var D=m.bRetrieve!==o?m.bRetrieve:y.bRetrieve;if(r||D)return x.oInstance;if(m.bDestroy!==o?m.bDestroy:y.bDestroy){x.oInstance.fnDestroy();break}return void Re(x,0,"Cannot reinitialise DataTable",3)}if(x.sTableId==this.id){_.splice(g,1);break}}null!==p&&""!==p||(this.id=p="DataTables_Table_"+Ve.ext._unique++);var E=e.extend(!0,{},Ve.models.oSettings,{sDestroyWidth:S[0].style.width,sInstance:p,sTableId:p});E.nTable=this,E.oApi=n.internal,E.oInit=m,_.push(E),E.oInstance=1===n.length?n:S.dataTable(),s(m),m.oLanguage&&a(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=e.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Oe(e.extend(!0,{},y),m),Ie(E.oFeatures,m,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Ie(E,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ie(E.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ie(E.oLanguage,m,"fnInfoCallback"),Le(E,"aoDrawCallback",m.fnDrawCallback,"user"),Le(E,"aoServerParams",m.fnServerParams,"user"),Le(E,"aoStateSaveParams",m.fnStateSaveParams,"user"),Le(E,"aoStateLoadParams",m.fnStateLoadParams,"user"),Le(E,"aoStateLoaded",m.fnStateLoaded,"user"),Le(E,"aoRowCallback",m.fnRowCallback,"user"),Le(E,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Le(E,"aoHeaderCallback",m.fnHeaderCallback,"user"),Le(E,"aoFooterCallback",m.fnFooterCallback,"user"),Le(E,"aoInitComplete",m.fnInitComplete,"user"),Le(E,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),E.rowIdFn=T(m.rowId),c(E);var N=E.oClasses;m.bJQueryUI?(e.extend(N,Ve.ext.oJUIClasses,m.oClasses),m.sDom===y.sDom&&"lfrtip"===y.sDom&&(E.sDom='<"H"lfr>t<"F"ip>'),E.renderer?e.isPlainObject(E.renderer)&&!E.renderer.header&&(E.renderer.header="jqueryui"):E.renderer="jqueryui"):e.extend(N,Ve.ext.classes,m.oClasses),S.addClass(N.sTable),E.iInitDisplayStart===o&&(E.iInitDisplayStart=m.iDisplayStart,E._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading&&(E.bDeferLoading=!0,p=e.isArray(m.iDeferLoading),E._iRecordsDisplay=p?m.iDeferLoading[0]:m.iDeferLoading,E._iRecordsTotal=p?m.iDeferLoading[1]:m.iDeferLoading);var A=E.oLanguage;e.extend(!0,A,m.oLanguage),A.sUrl&&(e.ajax({dataType:"json",url:A.sUrl,success:function(t){a(t),i(y.oLanguage,t),e.extend(!0,A,t),re(E)},error:function(){re(E)}}),v=!0),null===m.asStripeClasses&&(E.asStripeClasses=[N.sStripeOdd,N.sStripeEven]);var p=E.asStripeClasses,R=S.children("tbody").find("tr").eq(0);if(-1!==e.inArray(!0,e.map(p,function(e){return R.hasClass(e)}))&&(e("tbody tr",this).removeClass(p.join(" ")),E.asDestroyStripes=p.slice()),p=[],_=this.getElementsByTagName("thead"),0!==_.length&&(j(E.aoHeader,_[0]),p=B(E)),null===m.aoColumns)for(_=[],g=0,f=p.length;g<f;g++)_.push(null);else _=m.aoColumns;for(g=0,f=_.length;g<f;g++)d(E,p?p[g]:null);if(b(E,m.aoColumnDefs,_,function(e,t){h(E,e,t)}),R.length){var I=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(R[0]).children("th, td").each(function(e,t){var n=E.aoColumns[e];if(n.mData===e){var r=I(t,"sort")||I(t,"order"),i=I(t,"filter")||I(t,"search");null===r&&null===i||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:o,type:null!==r?e+".@data-"+r:o,filter:null!==i?e+".@data-"+i:o},h(E,e))}})}var O=E.oFeatures,p=function(){if(m.aaSorting===o){var t=E.aaSorting;for(g=0,f=t.length;g<f;g++)t[g][1]=E.aoColumns[g].asSorting[0]}Te(E),O.bSort&&Le(E,"aoDrawCallback",function(){if(E.bSorted){var t=we(E),n={};e.each(t,function(e,t){n[t.src]=t.dir}),$e(E,null,"order",[E,t,n]),Se(E)}}),Le(E,"aoDrawCallback",function(){(E.bSorted||"ssp"===He(E)||O.bDeferRender)&&Te(E)},"sc");var t=S.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),n=S.children("thead");if(0===n.length&&(n=e("<thead/>").appendTo(S)),E.nTHead=n[0],n=S.children("tbody"),0===n.length&&(n=e("<tbody/>").appendTo(S)),E.nTBody=n[0],n=S.children("tfoot"),0===n.length&&t.length>0&&(""!==E.oScroll.sX||""!==E.oScroll.sY)&&(n=e("<tfoot/>").appendTo(S)),0===n.length||0===n.children().length?S.addClass(N.sNoFooter):n.length>0&&(E.nTFoot=n[0],j(E.aoFooter,E.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)w(E,m.aaData[g]);else(E.bDeferLoading||"dom"==He(E))&&C(E,e(E.nTBody).children("tr"));E.aiDisplay=E.aiDisplayMaster.slice(),E.bInitialised=!0,v===!1&&re(E)};m.bStateSave?(O.bStateSave=!0,Le(E,"aoDrawCallback",Ee,"state_save"),Ne(E,m,p)):p()}}),n=null,this},Ge={},Ke=/[\r\n]/g,Ye=/<.*?>/g,Xe=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Je=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Qe=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Ze=function(e){return!e||!0===e||"-"===e},et=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},tt=function(e,t){return Ge[t]||(Ge[t]=RegExp(ht(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ge[t],"."):e},nt=function(e,t,n){var o="string"==typeof e;return!!Ze(e)||(t&&o&&(e=tt(e,t)),n&&o&&(e=e.replace(Qe,"")),!isNaN(parseFloat(e))&&isFinite(e))},ot=function(e,t,n){return!!Ze(e)||(Ze(e)||"string"==typeof e?!!nt(e.replace(Ye,""),t,n)||null:null)},rt=function(e,t,n){var r=[],i=0,a=e.length;if(n!==o)for(;i<a;i++)e[i]&&e[i][t]&&r.push(e[i][t][n]);else for(;i<a;i++)e[i]&&r.push(e[i][t]);return r},it=function(e,t,n,r){var i=[],a=0,s=t.length;if(r!==o)for(;a<s;a++)e[t[a]][n]&&i.push(e[t[a]][n][r]);else for(;a<s;a++)i.push(e[t[a]][n]);return i},at=function(e,t){var n,r=[];t===o?(t=0,n=e):(n=t,t=e);for(var i=t;i<n;i++)r.push(i);return r},st=function(e){for(var t=[],n=0,o=e.length;n<o;n++)e[n]&&t.push(e[n]);return t},lt=function(e){var t;e:{if(!(2>e.length)){t=e.slice().sort();for(var n=t[0],o=1,r=t.length;o<r;o++){if(t[o]===n){t=!1;break e}n=t[o]}}t=!0}if(t)return e.slice();t=[];var i,r=e.length,a=0,o=0;e:for(;o<r;o++){for(n=e[o],i=0;i<a;i++)if(t[i]===n)continue e;t.push(n),a++}return t};Ve.util={throttle:function(e,t){var n,r,i=t!==o?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+i?(clearTimeout(r),r=setTimeout(function(){n=o,e.apply(t,s)},i)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(Je,"\\$1")}};var ct=function(e,t,n){e[t]!==o&&(e[n]=e[t])},ut=/\[.*?\]$/,dt=/\(\)$/,ht=Ve.util.escapeRegex,ft=e("<div>")[0],pt=ft.textContent!==o,mt=/<.*?>/g,gt=Ve.util.throttle,vt=[],yt=Array.prototype,bt=function(t){var n,o,r=Ve.settings,i=e.map(r,function(e){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(n=e.inArray(t,i),-1!==n?[r[n]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?o=e(t):t instanceof e&&(o=t),o?o.map(function(){return n=e.inArray(this,i),-1!==n?r[n]:null}).toArray():void 0):[]};Ue=function(t,n){if(!(this instanceof Ue))return new Ue(t,n);var o=[],r=function(e){(e=bt(e))&&(o=o.concat(e))};if(e.isArray(t))for(var i=0,a=t.length;i<a;i++)r(t[i]);else r(t);this.context=lt(o),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},Ue.extend(this,this,vt)},Ve.Api=Ue,e.extend(Ue.prototype,{any:function(){return 0!==this.count()},concat:yt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ue(t[e],this[e]):null},filter:function(e){var t=[];if(yt.filter)t=yt.filter.call(this,e,this);else for(var n=0,o=this.length;n<o;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Ue(this.context,t)},flatten:function(){var e=[];return new Ue(this.context,e.concat.apply(e,this.toArray()))},join:yt.join,indexOf:yt.indexOf||function(e,t){for(var n=t||0,o=this.length;n<o;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var i,a,s,l,c,u,d,h=[],f=this.context,p=this.selector;for("string"==typeof e&&(r=n,n=t,t=e,e=!1),a=0,s=f.length;a<s;a++){var m=new Ue(f[a]);if("table"===t)(i=n.call(m,f[a],a))!==o&&h.push(i);else if("columns"===t||"rows"===t)(i=n.call(m,f[a],this[a],a))!==o&&h.push(i);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(d=this[a],"column-rows"===t&&(u=xt(f[a],p.opts)),l=0,c=d.length;l<c;l++)i=d[l],(i="cell"===t?n.call(m,f[a],i.row,i.column,a,l):n.call(m,f[a],i,a,l,u))!==o&&h.push(i)}return h.length||r?(e=new Ue(f,e?h.concat.apply([],h):h),t=e.selector,t.rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:yt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(yt.map)t=yt.map.call(this,e,this);else for(var n=0,o=this.length;n<o;n++)t.push(e.call(this,this[n],n));return new Ue(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:yt.pop,push:yt.push,reduce:yt.reduce||function(e,t){return u(this,e,t,0,this.length,1)},reduceRight:yt.reduceRight||function(e,t){return u(this,e,t,this.length-1,-1,-1)},reverse:yt.reverse,selector:null,shift:yt.shift,slice:function(){return new Ue(this.context,this)},sort:yt.sort,splice:yt.splice,toArray:function(){return yt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new Ue(this.context,lt(this))},unshift:yt.unshift}),Ue.extend=function(t,n,o){if(o.length&&n&&(n instanceof Ue||n.__dt_wrapper)){var r,i,a;for(r=0,i=o.length;r<i;r++)a=o[r],n[a.name]="function"==typeof a.val?function(e,t,n){return function(){var o=t.apply(e,arguments);return Ue.extend(o,o,n.methodExt),o}}(t,a.val,a):e.isPlainObject(a.val)?{}:a.val,n[a.name].__dt_wrapper=!0,Ue.extend(t,n[a.name],a.propExt)}},Ue.register=We=function(t,n){if(e.isArray(t))for(var o=0,r=t.length;o<r;o++)Ue.register(t[o],n);else for(var i,a,s=t.split("."),l=vt,o=0,r=s.length;o<r;o++){i=(a=-1!==s[o].indexOf("()"))?s[o].replace("()",""):s[o];var c;e:{c=0;for(var u=l.length;c<u;c++)if(l[c].name===i){c=l[c];break e}c=null}c||(c={name:i,val:{},methodExt:[],propExt:[]},l.push(c)),o===r-1?c.val=n:l=a?c.methodExt:c.propExt}},Ue.registerPlural=ze=function(t,n,r){Ue.register(t,r),Ue.register(n,function(){var t=r.apply(this,arguments);return t===this?this:t instanceof Ue?t.length?e.isArray(t[0])?new Ue(t.context,t[0]):t[0]:o:t})},We("tables()",function(t){var n;if(t){n=Ue;var o=this.context;if("number"==typeof t)t=[o[t]];else var r=e.map(o,function(e){return e.nTable}),t=e(r).filter(t).map(function(){return o[e.inArray(this,r)]}).toArray();n=new n(t)}else n=this;return n}),We("table()",function(e){var e=this.tables(e),t=e.context;return t.length?new Ue(t[0]):e}),ze("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),ze("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),ze("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),ze("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),ze("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),We("draw()",function(e){return this.iterator("table",function(t){"page"===e?P(t):("string"==typeof e&&(e="full-hold"!==e),M(t,!1===e))})}),We("page()",function(e){return e===o?this.page.info().page:this.iterator("table",function(t){ce(t,e)})}),We("page.info()",function(){if(0===this.context.length)return o;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),i=-1===n;return{page:i?0:Math.floor(t/n),pages:i?1:Math.ceil(r/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===He(e)}}),We("page.len()",function(e){return e===o?0!==this.context.length?this.context[0]._iDisplayLength:o:this.iterator("table",function(t){ae(t,e)})});var wt=function(e,t,n){if(n){var o=new Ue(e);o.one("draw",function(){n(o.ajax.json())})}if("ssp"==He(e))M(e,t);else{de(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),F(e,[],function(n){N(e);for(var n=z(e,n),o=0,r=n.length;o<r;o++)w(e,n[o]);M(e,t),de(e,!1)})}};We("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),We("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),We("ajax.reload()",function(e,t){return this.iterator("table",function(n){wt(n,!1===t,e)})}),We("ajax.url()",function(t){var n=this.context;return t===o?0===n.length?o:(n=n[0],n.ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),We("ajax.url().load()",function(e,t){return this.iterator("table",function(n){wt(n,!1===t,e)})});var Ct=function(t,n,r,i,a){var s,l,c,u,d,h,f=[];for(c=typeof n,n&&"string"!==c&&"function"!==c&&n.length!==o||(n=[n]),c=0,u=n.length;c<u;c++)for(l=n[c]&&n[c].split&&!n[c].match(/[\[\(:]/)?n[c].split(","):[n[c]],d=0,h=l.length;d<h;d++)(s=r("string"==typeof l[d]?e.trim(l[d]):l[d]))&&s.length&&(f=f.concat(s));if(t=qe.selector[t],t.length)for(c=0,u=t.length;c<u;c++)f=t[c](i,a,f);return lt(f)},St=function(t){return t||(t={}),t.filter&&t.search===o&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},_t=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},xt=function(t,n){var o,r,i,a=[],s=t.aiDisplay;o=t.aiDisplayMaster;var l=n.search;if(r=n.order,i=n.page,"ssp"==He(t))return"removed"===l?[]:at(0,o.length);if("current"==i)for(o=t._iDisplayStart,r=t.fnDisplayEnd();o<r;o++)a.push(s[o]);else if("current"==r||"applied"==r)a="none"==l?o.slice():"applied"==l?s.slice():e.map(o,function(t){return-1===e.inArray(t,s)?t:null});else if("index"==r||"original"==r)for(o=0,r=t.aoData.length;o<r;o++)"none"==l?a.push(o):(-1===(i=e.inArray(o,s))&&"removed"==l||0<=i&&"applied"==l)&&a.push(o);return a};We("rows()",function(t,n){t===o?t="":e.isPlainObject(t)&&(n=t,t="");var n=St(n),r=this.iterator("table",function(r){var i,a=n;return Ct("row",t,function(t){var n=et(t);if(null!==n&&!a)return[n];if(i||(i=xt(r,a)),null!==n&&e.inArray(n,i)!==-1)return[n];if(null===t||t===o||""===t)return i;if("function"==typeof t)return e.map(i,function(e){var n=r.aoData[e];return t(e,n._aData,n.nTr)?e:null});if(n=st(it(r.aoData,i,"nTr")),t.nodeName)return t._DT_RowIndex!==o?[t._DT_RowIndex]:t._DT_CellIndex?[t._DT_CellIndex.row]:(n=e(t).closest("*[data-dt-row]"),n.length?[n.data("dt-row")]:[]);if("string"==typeof t&&"#"===t.charAt(0)){var s=r.aIds[t.replace(/^#/,"")];if(s!==o)return[s.idx]}return e(n).filter(t).map(function(){return this._DT_RowIndex}).toArray()},r,a)},1);return r.selector.rows=t,r.selector.opts=n,r}),We("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||o},1)}),We("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return it(e.aoData,t,"_aData")},1)}),ze("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var o=t.aoData[n];return"search"===e?o._aFilterData:o._aSortData},1)}),ze("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){R(t,n,e)})}),ze("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),ze("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,o=0,r=n.length;o<r;o++)for(var i=0,a=this[o].length;i<a;i++){var s=n[o].rowIdFn(n[o].aoData[this[o][i]]._aData);t.push((!0===e?"#":"")+s)}return new Ue(n,t)}),ze("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,r){var i,a,s,l,c,u=t.aoData,d=u[n];for(u.splice(n,1),i=0,a=u.length;i<a;i++)if(s=u[i],c=s.anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=i),null!==c)for(s=0,l=c.length;s<l;s++)c[s]._DT_CellIndex.row=i;A(t.aiDisplayMaster,n),A(t.aiDisplay,n),A(e[r],n,!1),Pe(t),(n=t.rowIdFn(d._aData))!==o&&delete t.aIds[n]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),We("rows.add()",function(t){var n=this.iterator("table",function(e){var n,o,r,i=[];for(o=0,r=t.length;o<r;o++)n=t[o],n.nodeName&&"TR"===n.nodeName.toUpperCase()?i.push(C(e,n)[0]):i.push(w(e,n));return i},1),o=this.rows(-1);return o.pop(),e.merge(o,n),o}),We("row()",function(e,t){return _t(this.rows(e,t))}),We("row().data()",function(e){var t=this.context;return e===o?t.length&&this.length?t[0].aoData[this[0]]._aData:o:(t[0].aoData[this[0]]._aData=e,R(t[0],this[0],"data"),this)}),We("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),We("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?C(e,t)[0]:w(e,t)});return this.row(n[0])});var Tt=function(e,t){var n=e.context;n.length&&(n=n[0].aoData[t!==o?t:e[0]])&&n._details&&(n._details.remove(),n._detailsShow=o,n._details=o)},Dt=function(e,t){var n=e.context;if(n.length&&e.length){var o=n[0].aoData[e[0]];if(o._details){(o._detailsShow=t)?o._details.insertAfter(o.nTr):o._details.detach();var r=n[0],i=new Ue(r),a=r.aoData;i.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<rt(a,"_details").length&&(i.on("draw.dt.DT_details",function(e,t){r===t&&i.rows({page:"current"}).eq(0).each(function(e){e=a[e],e._detailsShow&&e._details.insertAfter(e.nTr)})}),i.on("column-visibility.dt.DT_details",function(e,t){if(r===t)for(var n,o=g(t),i=0,s=a.length;i<s;i++)n=a[i],n._details&&n._details.children("td[colspan]").attr("colspan",o)}),i.on("destroy.dt.DT_details",function(e,t){if(r===t)for(var n=0,o=a.length;n<o;n++)a[n]._details&&Tt(i,n)}))}}};We("row().child()",function(t,n){var r=this.context;if(t===o)return r.length&&this.length?r[0].aoData[this[0]]._details:o;if(!0===t)this.child.show();else if(!1===t)Tt(this);else if(r.length&&this.length){var i=r[0],r=r[0].aoData[this[0]],a=[],s=function(t,n){if(e.isArray(t)||t instanceof e)for(var o=0,r=t.length;o<r;o++)s(t[o],n);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?a.push(t):(o=e("<tr><td/></tr>").addClass(n),e("td",o).addClass(n).html(t)[0].colSpan=g(i),a.push(o[0]))};s(t,n),r._details&&r._details.detach(),r._details=e(a),r._detailsShow&&r._details.insertAfter(r.nTr)}return this}),We(["row().child.show()","row().child().show()"],function(){return Dt(this,!0),this}),We(["row().child.hide()","row().child().hide()"],function(){return Dt(this,!1),this}),We(["row().child.remove()","row().child().remove()"],function(){
return Tt(this),this}),We("row().child.isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var Et=function(e,t,n,o,r){for(var n=[],o=0,i=r.length;o<i;o++)n.push(S(e,r[o],t));return n};We("columns()",function(t,n){t===o?t="":e.isPlainObject(t)&&(n=t,t="");var n=St(n),r=this.iterator("table",function(o){var r=t,i=n,a=o.aoColumns,s=rt(a,"sName"),l=rt(a,"nTh");return Ct("column",r,function(t){var n=et(t);if(""===t)return at(a.length);if(null!==n)return[n>=0?n:a.length+n];if("function"==typeof t){var r=xt(o,i);return e.map(a,function(e,n){return t(n,Et(o,n,0,0,r),l[n])?n:null})}var c="string"==typeof t?t.match(/^([^:]+):(name|visIdx|visible)$/):"";if(c)switch(c[2]){case"visIdx":case"visible":if((n=parseInt(c[1],10))<0){var u=e.map(a,function(e,t){return e.bVisible?t:null});return[u[u.length+n]]}return[p(o,n)];case"name":return e.map(s,function(e,t){return e===c[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(n=e(l).filter(t).map(function(){return e.inArray(this,l)}).toArray(),n.length||!t.nodeName?n:(n=e(t).closest("*[data-dt-column]"),n.length?[n.data("dt-column")]:[]))},o,i)},1);return r.selector.cols=t,r.selector.opts=n,r}),ze("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),ze("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),ze("columns().data()","column().data()",function(){return this.iterator("column-rows",Et,1)}),ze("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),ze("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,o,r,i){return it(t.aoData,i,"search"===e?"_aFilterData":"_aSortData",n)},1)}),ze("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,o,r){return it(e.aoData,r,"anCells",t)},1)}),ze("columns().visible()","column().visible()",function(t,n){var r=this.iterator("column",function(n,r){if(t===o)return n.aoColumns[r].bVisible;var i,a,s,l=n.aoColumns,c=l[r],u=n.aoData;if(t!==o&&c.bVisible!==t){if(t){var d=e.inArray(!0,rt(l,"bVisible"),r+1);for(i=0,a=u.length;i<a;i++)s=u[i].nTr,l=u[i].anCells,s&&s.insertBefore(l[r],l[d]||null)}else e(rt(n.aoData,"anCells",r)).detach();c.bVisible=t,$(n,n.aoHeader),$(n,n.aoFooter),Ee(n)}});return t!==o&&(this.iterator("column",function(e,o){$e(e,null,"column-visibility",[e,o,t,n])}),(n===o||n)&&this.columns.adjust()),r}),ze("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),We("columns.adjust()",function(){return this.iterator("table",function(e){f(e)},1)}),We("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),We("column()",function(e,t){return _t(this.columns(e,t))}),We("cells()",function(t,n,r){if(e.isPlainObject(t)&&(t.row===o?(r=t,t=null):(r=n,n=null)),e.isPlainObject(n)&&(r=n,n=null),null===n||n===o)return this.iterator("table",function(n){var i,a,s,l,c,u,d,h=t,f=St(r),p=n.aoData,m=xt(n,f),g=st(it(p,m,"anCells")),v=e([].concat.apply([],g)),y=n.aoColumns.length;return Ct("cell",h,function(t){var r="function"==typeof t;if(null===t||t===o||r){for(a=[],s=0,l=m.length;s<l;s++)for(i=m[s],c=0;c<y;c++)u={row:i,column:c},r?(d=p[i],t(u,S(n,i,c),d.anCells?d.anCells[c]:null)&&a.push(u)):a.push(u);return a}return e.isPlainObject(t)?[t]:(r=v.filter(t).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray(),r.length||!t.nodeName?r:(d=e(t).closest("*[data-dt-row]"),d.length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]))},n,f)});var i,a,s,l,c,u=this.columns(n,r),d=this.rows(t,r),h=this.iterator("table",function(e,t){for(i=[],a=0,s=d[t].length;a<s;a++)for(l=0,c=u[t].length;l<c;l++)i.push({row:d[t][a],column:u[t][l]});return i},1);return e.extend(h.selector,{cols:n,rows:t,opts:r}),h}),ze("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return(e=e.aoData[t])&&e.anCells?e.anCells[n]:o},1)}),We("cells().data()",function(){return this.iterator("cell",function(e,t,n){return S(e,t,n)},1)}),ze("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,o){return t.aoData[n][e][o]},1)}),ze("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,o){return S(t,n,o,e)},1)}),ze("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),ze("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,o){R(t,n,e,o)})}),We("cell()",function(e,t,n){return _t(this.cells(e,t,n))}),We("cell().data()",function(e){var t=this.context,n=this[0];return e===o?t.length&&n.length?S(t[0],n[0].row,n[0].column):o:(_(t[0],n[0].row,n[0].column,e),R(t[0],n[0].row,"data",n[0].column),this)}),We("order()",function(t,n){var r=this.context;return t===o?0!==r.length?r[0].aaSorting:o:("number"==typeof t?t=[[t,n]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),We("order.listener()",function(e,t,n){return this.iterator("table",function(o){xe(o,e,t,n)})}),We("order.fixed()",function(t){if(!t){var n=this.context,n=n.length?n[0].aaSortingFixed:o;return e.isArray(n)?{pre:n}:n}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),We(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(o,r){var i=[];e.each(n[r],function(e,n){i.push([n,t])}),o.aaSorting=i})}),We("search()",function(t,n,r,i){var a=this.context;return t===o?0!==a.length?a[0].oPreviousSearch.sSearch:o:this.iterator("table",function(o){o.oFeatures.bFilter&&G(o,e.extend({},o.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===i||i}),1)})}),ze("columns().search()","column().search()",function(t,n,r,i){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(t===o)return l[s].sSearch;a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===i||i}),G(a,a.oPreviousSearch,1))})}),We("state()",function(){return this.context.length?this.context[0].oSavedState:null}),We("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),We("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),We("state.save()",function(){return this.iterator("table",function(e){Ee(e)})}),Ve.versionCheck=Ve.fnVersionCheck=function(e){for(var t,n,o=Ve.version.split("."),e=e.split("."),r=0,i=e.length;r<i;r++)if(t=parseInt(o[r],10)||0,n=parseInt(e[r],10)||0,t!==n)return t>n;return!0},Ve.isDataTable=Ve.fnIsDataTable=function(t){var n=e(t).get(0),o=!1;return t instanceof Ve.Api||(e.each(Ve.settings,function(t,r){var i=r.nScrollHead?e("table",r.nScrollHead)[0]:null,a=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&i!==n&&a!==n||(o=!0)}),o)},Ve.tables=Ve.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var o=e.map(Ve.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new Ue(o):o},Ve.camelToHungarian=i,We("$()",function(t,n){var o=this.rows(n).nodes(),o=e(o);return e([].concat(o.filter(t).toArray(),o.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){We(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var o=e(this.tables().nodes());return o[n].apply(o,t),this})}),We("clear()",function(){return this.iterator("table",function(e){N(e)})}),We("settings()",function(){return new Ue(this.context,this.context)}),We("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),We("data()",function(){return this.iterator("table",function(e){return rt(e.aoData,"_aData")}).flatten()}),We("destroy()",function(n){return n=n||!1,this.iterator("table",function(o){var r,i=o.nTableWrapper.parentNode,a=o.oClasses,s=o.nTable,l=o.nTBody,c=o.nTHead,u=o.nTFoot,d=e(s),l=e(l),h=e(o.nTableWrapper),f=e.map(o.aoData,function(e){return e.nTr});o.bDestroying=!0,$e(o,"aoDestroyCallback","destroy",[o]),n||new Ue(o).columns().visible(!0),h.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+o.sInstance),s!=c.parentNode&&(d.children("thead").detach(),d.append(c)),u&&s!=u.parentNode&&(d.children("tfoot").detach(),d.append(u)),o.aaSorting=[],o.aaSortingFixed=[],Te(o),e(f).removeClass(o.asStripeClasses.join(" ")),e("th, td",c).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),o.bJUI&&(e("th span."+a.sSortIcon+", td span."+a.sSortIcon,c).detach(),e("th, td",c).each(function(){var t=e("div."+a.sSortJUIWrapper,this);e(this).append(t.contents()),t.detach()})),l.children().detach(),l.append(f),c=n?"remove":"detach",d[c](),h[c](),!n&&i&&(i.insertBefore(s,o.nTableReinsertBefore),d.css("width",o.sDestroyWidth).removeClass(a.sTable),(r=o.asDestroyStripes.length)&&l.children().each(function(t){e(this).addClass(o.asDestroyStripes[t%r])})),-1!==(i=e.inArray(o,Ve.settings))&&Ve.settings.splice(i,1)})}),e.each(["column","row","cell"],function(e,t){We(t+"s().every()",function(e){var n=this.selector.opts,r=this;return this.iterator(t,function(i,a,s,l,c){e.call(r[t](a,"cell"===t?s:n,"cell"===t?n:o),a,s,l,c)})})}),We("i18n()",function(t,n,r){var i=this.context[0],t=T(t)(i.oLanguage);return t===o&&(t=n),r!==o&&e.isPlainObject(t)&&(t=t[r]!==o?t[r]:t._),t.replace("%d",r)}),Ve.version="1.10.15",Ve.settings=[],Ve.models={},Ve.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ve.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ve.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ve.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},Ve.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Ve.defaults),Ve.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Ve.defaults.column),Ve.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:o,oAjaxData:o,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==He(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==He(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,o=this.aiDisplay.length,r=this.oFeatures,i=r.bPaginate;return r.bServerSide?!1===i||-1===e?t+o:Math.min(t+e,this._iRecordsDisplay):!i||n>o||-1===e?o:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ve.ext=qe={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ve.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ve.version},e.extend(qe,{afnFiltering:qe.search,aTypes:qe.type.detect,ofnSearch:qe.type.search,oSort:qe.type.order,afnSortData:qe.order,aoFeatures:qe.feature,oApi:qe.internal,oStdClasses:qe.classes,oPagination:qe.pager}),e.extend(Ve.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Nt="",Nt="",At=Nt+"ui-state-default",Rt=Nt+"css_right ui-icon ui-icon-",It=Nt+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";e.extend(Ve.ext.oJUIClasses,Ve.ext.classes,{sPageButton:"fg-button ui-button "+At,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:At+" sorting_asc",sSortDesc:At+" sorting_desc",sSortable:At+" sorting",sSortableAsc:At+" sorting_asc_disabled",sSortableDesc:At+" sorting_desc_disabled",sSortableNone:At+" sorting_disabled",sSortJUIAsc:Rt+"triangle-1-n",sSortJUIDesc:Rt+"triangle-1-s",sSortJUI:Rt+"carat-2-n-s",sSortJUIAscAllowed:Rt+"carat-1-n",sSortJUIDescAllowed:Rt+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+At,sScrollFoot:"dataTables_scrollFoot "+At,sHeaderTH:At,sFooterTH:At,sJUIHeader:It+" ui-corner-tl ui-corner-tr",sJUIFooter:It+" ui-corner-bl ui-corner-br"});var Ot=Ve.ext.pager;e.extend(Ot,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[je(e,t)]},simple_numbers:function(e,t){return["previous",je(e,t),"next"]},full_numbers:function(e,t){return["first","previous",je(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",je(e,t),"last"]},_numbers:je,numbers_length:7}),e.extend(!0,Ve.ext.renderer,{pageButton:{_:function(t,r,i,a,s,l){var c,u,d,h=t.oClasses,f=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},m=0,g=function(n,o){var r,a,d,v,y=function(e){ce(t,e.data.action,!0)};for(r=0,a=o.length;r<a;r++)if(v=o[r],e.isArray(v))d=e("<"+(v.DT_el||"div")+"/>").appendTo(n),g(d,v);else{switch(c=null,u="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=f.sFirst,u=v+(s>0?"":" "+h.sPageButtonDisabled);break;case"previous":c=f.sPrevious,u=v+(s>0?"":" "+h.sPageButtonDisabled);break;case"next":c=f.sNext,u=v+(s<l-1?"":" "+h.sPageButtonDisabled);break;case"last":c=f.sLast,u=v+(s<l-1?"":" "+h.sPageButtonDisabled);break;default:c=v+1,u=s===v?h.sPageButtonActive:""}null!==c&&(d=e("<a>",{class:h.sPageButton+" "+u,"aria-controls":t.sTableId,"aria-label":p[v],"data-dt-idx":m,tabindex:t.iTabIndex,id:0===i&&"string"==typeof v?t.sTableId+"_"+v:null}).html(c).appendTo(n),ke(d,{action:v},y),m++)}};try{d=e(r).find(n.activeElement).data("dt-idx")}catch(e){}g(e(r).empty(),a),d!==o&&e(r).find("[data-dt-idx="+d+"]").focus()}}}),e.extend(Ve.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n)?"num"+n:null},function(e){if(e&&!(e instanceof Date)&&!Xe.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||Ze(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return ot(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return ot(e,n,!0)?"html-num-fmt"+n:null},function(e){return Ze(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(Ve.ext.type.search,{html:function(e){return Ze(e)?e:"string"==typeof e?e.replace(Ke," ").replace(Ye,""):""},string:function(e){return Ze(e)?e:"string"==typeof e?e.replace(Ke," "):e}});var kt=function(e,t,n,o){return 0===e||e&&"-"!==e?(t&&(e=tt(e,t)),e.replace&&(n&&(e=e.replace(n,"")),o&&(e=e.replace(o,""))),1*e):-(1/0)};e.extend(qe.type.order,{"date-pre":function(e){return Date.parse(e)||-(1/0)},"html-pre":function(e){return Ze(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return Ze(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Be(""),e.extend(!0,Ve.ext.renderer,{header:{_:function(t,n,o,r){e(t.nTable).on("order.dt.DT",function(e,i,a,s){t===i&&(e=o.idx,n.removeClass(o.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:o.sSortingClass))})},jqueryui:function(t,n,o,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+o.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,i,a,s){t===i&&(e=o.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:o.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[e]?r.sSortJUIAsc:"desc"==s[e]?r.sSortJUIDesc:o.sSortingClassJUI))})}}});var Lt=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return Ve.render={number:function(e,t,n,o,r){return{display:function(i){if("number"!=typeof i&&"string"!=typeof i)return i;var a=0>i?"-":"",s=parseFloat(i);return isNaN(s)?Lt(i):(s=s.toFixed(n),i=Math.abs(s),s=parseInt(i,10),i=n?t+(i-s).toFixed(n).substring(2):"",a+(o||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+i+(r||""))}}},text:function(){return{display:Lt}}},e.extend(Ve.ext.internal,{_fnExternApiFunc:Fe,_fnBuildAjax:F,_fnAjaxUpdate:q,_fnAjaxParameters:U,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:z,_fnAddColumn:d,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:r,_fnCamelToHungarian:i,_fnLanguageCompat:a,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:C,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==o?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,o){return e.inArray(o,t.aoData[n].anCells)},_fnGetCellData:S,_fnSetCellData:_,_fnSplitObjNotation:x,_fnGetObjectDataFn:T,_fnSetObjectDataFn:D,_fnGetDataMaster:E,_fnClearTable:N,_fnDeleteIndex:A,_fnInvalidate:R,_fnGetRowElements:I,_fnCreateTr:O,_fnBuildHead:L,_fnDrawHead:$,_fnDraw:P,_fnReDraw:M,_fnAddOptionsHtml:H,_fnDetectHeader:j,_fnGetUniqueThs:B,_fnFeatureHtmlFilter:V,_fnFilterComplete:G,_fnFilterCustom:K,_fnFilterColumn:Y,_fnFilter:X,_fnFilterCreateSearch:J,_fnEscapeRegex:ht,_fnFilterData:Q,_fnFeatureHtmlInfo:te,_fnUpdateInfo:ne,_fnInfoMacros:oe,_fnInitialise:re,_fnInitComplete:ie,_fnLengthChange:ae,_fnFeatureHtmlLength:se,_fnFeatureHtmlPaginate:le,_fnPageChange:ce,_fnFeatureHtmlProcessing:ue,_fnProcessingDisplay:de,_fnFeatureHtmlTable:he,_fnScrollDraw:fe,_fnApplyToChildren:pe,_fnCalculateColumnWidths:me,_fnThrottle:gt,_fnConvertToWidth:ge,_fnGetWidestNode:ve,_fnGetMaxLenString:ye,_fnStringToCss:be,_fnSortFlatten:we,_fnSort:Ce,_fnSortAria:Se,_fnSortListener:_e,_fnSortAttachListener:xe,_fnSortingClasses:Te,_fnSortData:De,_fnSaveState:Ee,_fnLoadState:Ne,_fnSettingsFromNode:Ae,_fnLog:Re,_fnMap:Ie,_fnBindAction:ke,_fnCallbackReg:Le,_fnCallbackFire:$e,_fnLengthOverflow:Pe,_fnRenderer:Me,_fnDataSource:He,_fnRowAttributes:k,_fnCalculateEnd:function(){}}),e.fn.dataTable=Ve,Ve.$=e,e.fn.dataTableSettings=Ve.settings,e.fn.dataTableExt=Ve.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(Ve,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,o){var r=e.fn.dataTable;return e.extend(!0,r.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(r.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),r.ext.renderer.pageButton.bootstrap=function(t,i,a,s,l,c){var u,d,h,f=new r.Api(t),p=t.oClasses,m=t.oLanguage.oPaginate,g=t.oLanguage.oAria.paginate||{},v=0,y=function(n,o){var r,i,s,h,b=function(t){t.preventDefault(),!e(t.currentTarget).hasClass("disabled")&&f.page()!=t.data.action&&f.page(t.data.action).draw("page")};for(r=0,i=o.length;r<i;r++)if(h=o[r],e.isArray(h))y(n,h);else{switch(d=u="",h){case"ellipsis":u="&#x2026;",d="disabled";break;case"first":u=m.sFirst,d=h+(0<l?"":" disabled");break;case"previous":u=m.sPrevious,d=h+(0<l?"":" disabled");break;case"next":u=m.sNext,d=h+(l<c-1?"":" disabled");break;case"last":u=m.sLast,d=h+(l<c-1?"":" disabled");break;default:u=h+1,d=l===h?"active":""}u&&(s=e("<li>",{class:p.sPageButton+" "+d,id:0===a&&"string"==typeof h?t.sTableId+"_"+h:null}).append(e("<a>",{href:"#","aria-controls":t.sTableId,"aria-label":g[h],"data-dt-idx":v,tabindex:t.iTabIndex}).html(u)).appendTo(n),t.oApi._fnBindAction(s,{action:h},b),v++)}};try{h=e(i).find(n.activeElement).data("dt-idx")}catch(e){}y(e(i).empty().html('<ul class="pagination"/>').children("ul"),s),h!==o&&e(i).find("[data-dt-idx="+h+"]").focus()},r}),function(e){e.fn.waitMe=function(t){return this.each(function(){var n,o,r,i,a,s,l,c=e(this),u=!1,d="background-color",h="",f="",p={init:function(){l=e.extend({effect:"bounce",text:"",bg:"rgba(255,255,255,0.7)",color:"#000",sizeW:"",sizeH:""},t),i=e('<div class="waitMe"></div>');var p="width:"+l.sizeW+";height:"+l.sizeH;switch(l.effect){case"none":r=0;break;case"bounce":r=3,a="",s=p;break;case"rotateplane":r=1,a="",s=p;break;case"stretch":r=5,a="",s=p;break;case"orbit":r=2,a=p,s="";break;case"roundBounce":r=12,a=p,s="";break;case"win8":r=5,u=!0,s=a=p;break;case"win8_linear":r=5,u=!0,a=p,s="";break;case"ios":r=12,a=p,s="";break;case"facebook":r=3,a="",s=p;break;case"rotation":r=1,d="border-color",a="",s=p;break;case"timer":r=2,h="border-color:"+l.color,a=p,s="";break;case"pulse":r=1,d="border-color",a="",s=p;break;case"progressBar":r=1,a="",s=p}if(""==l.sizeW&&""==l.sizeH&&(a=s=""),""!=a&&""!=h&&(h=";"+h),0<r){for(o=e('<div class="waitMe_progress '+l.effect+'"></div>'),p=1;p<=r;++p)f=u?f+'<div class="waitMe_progress_elem'+p+'" style="'+s+'"><div style="'+d+":"+l.color+'"></div></div>':f+'<div class="waitMe_progress_elem'+p+'" style="'+d+":"+l.color+";"+s+'"></div>';o=e('<div class="waitMe_progress '+l.effect+'" style="'+a+h+'">'+f+"</div>")}l.text&&(n=e('<div class="waitMe_text" style="color:'+l.color+'">'+l.text+"</div>")),c.find("> .waitMe")&&c.find("> .waitMe").remove(),waitMeDivObj=e('<div class="waitMe_content"></div>'),waitMeDivObj.append(o,n),i.append(waitMeDivObj),"HTML"==c[0].tagName&&(c=e("body")),c.addClass("waitMe_container").append(i),c.find("> .waitMe").css({background:l.bg}),c.find(".waitMe_content").css({marginTop:-c.find(".waitMe_content").outerHeight()/2+"px"})},hide:function(){c.removeClass("waitMe_container"),c.find(".waitMe").remove()}};return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void(e.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}):p.init.apply(this,arguments)})}}(jQuery),function(e,t,n){"use strict";!function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(o,r,i){var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0});var s,l,c,u,d=o("./modules/handle-dom"),h=o("./modules/utils"),f=o("./modules/handle-swal-dom"),p=o("./modules/handle-click"),m=o("./modules/handle-key"),g=a(m),v=o("./modules/default-params"),y=a(v),b=o("./modules/set-params"),w=a(b);i.default=c=u=function(){function o(e){var t=r;return t[e]===n?y.default[e]:t[e]}var r=arguments[0];if(d.addClass(t.body,"stop-scrolling"),f.resetInput(),r===n)return h.logStr("SweetAlert expects at least 1 attribute!"),!1;var i=h.extend({},y.default);switch(typeof r){case"string":i.title=r,i.text=arguments[1]||"",i.type=arguments[2]||"";break;case"object":if(r.title===n)return h.logStr('Missing "title" argument!'),!1;i.title=r.title;for(var a in y.default)i[a]=o(a);i.confirmButtonText=i.showCancelButton?"Confirm":y.default.confirmButtonText,i.confirmButtonText=o("confirmButtonText"),i.doneFunction=arguments[1]||null;break;default:return h.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof r),!1}w.default(i),f.fixVerticalPosition(),f.openModal(arguments[1]);for(var c=f.getModal(),m=c.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(e){return p.handleButton(e,i,c)},C=0;C<m.length;C++)for(var S=0;S<v.length;S++){var _=v[S];m[C][_]=b}f.getOverlay().onclick=b,s=e.onkeydown;var x=function(e){return g.default(e,i,c)};e.onkeydown=x,e.onfocus=function(){setTimeout(function(){l!==n&&(l.focus(),l=n)},0)},u.enableButtons()},c.setDefaults=u.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");h.extend(y.default,e)},c.close=u.close=function(){var o=f.getModal();d.fadeOut(f.getOverlay(),5),d.fadeOut(o,5),d.removeClass(o,"showSweetAlert"),d.addClass(o,"hideSweetAlert"),d.removeClass(o,"visible");var r=o.querySelector(".sa-icon.sa-success");d.removeClass(r,"animate"),d.removeClass(r.querySelector(".sa-tip"),"animateSuccessTip"),d.removeClass(r.querySelector(".sa-long"),"animateSuccessLong");var i=o.querySelector(".sa-icon.sa-error");d.removeClass(i,"animateErrorIcon"),d.removeClass(i.querySelector(".sa-x-mark"),"animateXMark");var a=o.querySelector(".sa-icon.sa-warning");return d.removeClass(a,"pulseWarning"),d.removeClass(a.querySelector(".sa-body"),"pulseWarningIns"),d.removeClass(a.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=o.getAttribute("data-custom-class");d.removeClass(o,e)},300),d.removeClass(t.body,"stop-scrolling"),e.onkeydown=s,e.previousActiveElement&&e.previousActiveElement.focus(),l=n,clearTimeout(o.timeout),!0},c.showInputError=u.showInputError=function(e){var t=f.getModal(),n=t.querySelector(".sa-input-error");d.addClass(n,"show");var o=t.querySelector(".sa-error-container");d.addClass(o,"show"),o.querySelector("p").innerHTML=e,setTimeout(function(){c.enableButtons()},1),t.querySelector("input").focus()},c.resetInputError=u.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=f.getModal(),n=t.querySelector(".sa-input-error");d.removeClass(n,"show");var o=t.querySelector(".sa-error-container");d.removeClass(o,"show")},c.disableButtons=u.disableButtons=function(){var e=f.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},c.enableButtons=u.enableButtons=function(){var e=f.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},void 0!==e?e.sweetAlert=e.swal=c:h.logStr("SweetAlert is a frontend module!"),r.exports=i.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o={title:"",
text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n.default=o,t.exports=n.default},{}],3:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var r=t("./utils"),i=(t("./handle-swal-dom"),t("./handle-dom")),a=function(t,n,o){function a(e){p&&n.confirmButtonColor&&(f.style.backgroundColor=e)}var c,u,d,h=t||e.event,f=h.target||h.srcElement,p=-1!==f.className.indexOf("confirm"),m=-1!==f.className.indexOf("sweet-overlay"),g=i.hasClass(o,"visible"),v=n.doneFunction&&"true"===o.getAttribute("data-has-done-function");switch(p&&n.confirmButtonColor&&(c=n.confirmButtonColor,u=r.colorLuminance(c,-.04),d=r.colorLuminance(c,-.14)),h.type){case"mouseover":a(u);break;case"mouseout":a(c);break;case"mousedown":a(d);break;case"mouseup":a(u);break;case"focus":var y=o.querySelector("button.confirm"),b=o.querySelector("button.cancel");p?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var w=o===f,C=i.isDescendant(o,f);if(!w&&!C&&g&&!n.allowOutsideClick)break;p&&v&&g?s(o,n):v&&g||m?l(o,n):i.isDescendant(o,f)&&"BUTTON"===f.tagName&&sweetAlert.close()}},s=function(e,t){var n=!0;i.hasClass(e,"show-input")&&((n=e.querySelector("input").value)||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var n=String(t.doneFunction).replace(/\s/g,"");"function("===n.substring(0,9)&&")"!==n.substring(9,10)&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};o.default={handleButton:a,handleConfirm:s,handleCancel:l},n.exports=o.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,o,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},a=function(e,t){i(e,t)||(e.className+=" "+t)},s=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(i(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},l=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},c=function(e){e.style.opacity="",e.style.display="block"},u=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},d=function(e){e.style.opacity="",e.style.display="none"},h=function(e){if(e&&!e.length)return d(e);for(var t=0;t<e.length;++t)d(e[t])},f=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},p=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},m=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(o,t)});o()}e.style.display="block"},g=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(o,t):e.style.display="none"});o()},v=function(n){if("function"==typeof MouseEvent){var o=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(o)}else if(t.createEvent){var r=t.createEvent("MouseEvents");r.initEvent("click",!1,!1),n.dispatchEvent(r)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},y=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};r.hasClass=i,r.addClass=a,r.removeClass=s,r.escapeHtml=l,r._show=c,r.show=u,r._hide=d,r.hide=h,r.isDescendant=f,r.getTopMargin=p,r.fadeIn=m,r.fadeOut=g,r.fireClick=v,r.stopEventPropagation=y},{}],5:[function(t,o,r){Object.defineProperty(r,"__esModule",{value:!0});var i=t("./handle-dom"),a=t("./handle-swal-dom"),s=function(t,o,r){var s=t||e.event,l=s.keyCode||s.which,c=r.querySelector("button.confirm"),u=r.querySelector("button.cancel"),d=r.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=s.target||s.srcElement,f=-1,p=0;p<d.length;p++)if(h===d[p]){f=p;break}9===l?(h=-1===f?c:f===d.length-1?d[0]:d[f+1],i.stopEventPropagation(s),h.focus(),o.confirmButtonColor&&a.setFocusStyle(h,o.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=c,c.focus()),h=-1===f?c:n):27===l&&o.allowEscapeKey===!0?(h=u,i.fireClick(h,s)):h=n}};r.default=s,o.exports=r.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,o,r){var i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var a=n("./utils"),s=n("./handle-dom"),l=n("./default-params"),c=i(l),u=n("./injected-html"),d=i(u),h=function(){var e=t.createElement("div");for(e.innerHTML=d.default;e.firstChild;)t.body.appendChild(e.firstChild)},f=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(".sweet-alert");return e||(h(),e=f()),e}),p=function(){var e=f();return e?e.querySelector("input"):void 0},m=function(){return t.querySelector(".sweet-overlay")},g=function(e,t){var n=a.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},v=function(n){var o=f();s.fadeIn(m(),10),s.show(o),s.addClass(o,"showSweetAlert"),s.removeClass(o,"hideSweetAlert"),e.previousActiveElement=t.activeElement,o.querySelector("button.confirm").focus(),setTimeout(function(){s.addClass(o,"visible")},500);var r=o.getAttribute("data-timer");if("null"!==r&&""!==r){var i=n;o.timeout=setTimeout(function(){(i||null)&&"true"===o.getAttribute("data-has-done-function")?i(null):sweetAlert.close()},r)}},y=function(){var e=f(),t=p();s.removeClass(e,"show-input"),t.value=c.default.inputValue,t.setAttribute("type",c.default.inputType),t.setAttribute("placeholder",c.default.inputPlaceholder),b()},b=function(e){if(e&&13===e.keyCode)return!1;var t=f(),n=t.querySelector(".sa-input-error");s.removeClass(n,"show");var o=t.querySelector(".sa-error-container");s.removeClass(o,"show")},w=function(){f().style.marginTop=s.getTopMargin(f())};r.sweetAlertInitialize=h,r.getModal=f,r.getOverlay=m,r.getInput=p,r.setFocusStyle=g,r.openModal=v,r.resetInput=y,r.resetInputError=b,r.fixVerticalPosition=w},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>',t.exports=n.default},{}],8:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var r=e("./utils"),i=e("./handle-swal-dom"),a=e("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(e){var t=i.getModal(),o=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),u=t.querySelector("button.confirm");if(o.innerHTML=e.html?e.title:a.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:a.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&a.show(l),e.customClass)a.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var d=t.getAttribute("data-custom-class");a.removeClass(t,d),t.setAttribute("data-custom-class","")}if(a.hide(t.querySelectorAll(".sa-icon")),e.type&&!r.isIE8()){var h=function(){for(var o=!1,r=0;r<s.length;r++)if(e.type===s[r]){o=!0;break}if(!o)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],c=n;-1!==l.indexOf(e.type)&&(c=t.querySelector(".sa-icon.sa-"+e.type),a.show(c));var u=i.getInput();switch(e.type){case"success":a.addClass(c,"animate"),a.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),a.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":a.addClass(c,"animateErrorIcon"),a.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":a.addClass(c,"pulseWarning"),a.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),a.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":u.setAttribute("type",e.inputType),u.value=e.inputValue,u.setAttribute("placeholder",e.inputPlaceholder),a.addClass(t,"show-input"),setTimeout(function(){u.focus(),u.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var f=t.querySelector(".sa-icon.sa-custom");f.style.backgroundImage="url("+e.imageUrl+")",a.show(f);var p=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],y=g[1];v&&y?(p=v,m=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+p+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":a.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?u.style.display="inline-block":a.hide(u),e.cancelButtonText&&(c.innerHTML=a.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(u.innerHTML=a.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(u.style.backgroundColor=e.confirmButtonColor,u.style.borderLeftColor=e.confirmLoadingButtonColor,u.style.borderRightColor=e.confirmLoadingButtonColor,i.setFocusStyle(u,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=!!e.doneFunction;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};o.default=l,t.exports=o.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var r=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},i=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},a=function(){return e.attachEvent&&!e.addEventListener},s=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,o,r="#";for(o=0;3>o;o++)n=parseInt(e.substr(2*o,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),r+=("00"+n).substr(n.length);return r};o.extend=r,o.hexToRgb=i,o.isIE8=a,o.logStr=s,o.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,o;!function(t){function r(e,t){return w.call(e,t)}function i(e,t){var n,o,r,i,a,s,l,c,u,d,h,f=t&&t.split("/"),p=y.map,m=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),a=e.length-1,y.nodeIdCompat&&S.test(e[a])&&(e[a]=e[a].replace(S,"")),e=f.slice(0,f.length-1).concat(e),u=0;u<e.length;u+=1)if("."===(h=e[u]))e.splice(u,1),u-=1;else if(".."===h){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||m)&&p){for(n=e.split("/"),u=n.length;u>0;u-=1){if(o=n.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if((r=p[f.slice(0,d).join("/")])&&(r=r[o])){i=r,s=u;break}if(i)break;!l&&m&&m[o]&&(l=m[o],c=u)}!i&&l&&(i=l,s=c),i&&(n.splice(0,s,i),e=n.join("/"))}return e}function a(e,n){return function(){var o=C.call(arguments,0);return"string"!=typeof o[0]&&1===o.length&&o.push(null),f.apply(t,o.concat([e,n]))}}function s(e){return function(t){return i(t,e)}}function l(e){return function(t){g[e]=t}}function c(e){if(r(v,e)){var n=v[e];delete v[e],b[e]=!0,h.apply(t,n)}if(!r(g,e)&&!r(b,e))throw new Error("No "+e);return g[e]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var h,f,p,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,C=[].slice,S=/\.js$/;p=function(e,t){var n,o=u(e),r=o[0];return e=o[1],r&&(r=i(r,t),n=c(r)),r?e=n&&n.normalize?n.normalize(e,s(t)):i(e,t):(e=i(e,t),o=u(e),r=o[0],e=o[1],r&&(n=c(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},h=function(e,n,o,i){var s,u,d,h,f,y,w=[],C=typeof o;if(i=i||e,"undefined"===C||"function"===C){for(n=!n.length&&o.length?["require","exports","module"]:n,f=0;f<n.length;f+=1)if(h=p(n[f],i),"require"===(u=h.f))w[f]=m.require(e);else if("exports"===u)w[f]=m.exports(e),y=!0;else if("module"===u)s=w[f]=m.module(e);else if(r(g,u)||r(v,u)||r(b,u))w[f]=c(u);else{if(!h.p)throw new Error(e+" missing "+u);h.p.load(h.n,a(i,!0),l(u),{}),w[f]=g[u]}d=o?o.apply(g[e],w):void 0,e&&(s&&s.exports!==t&&s.exports!==g[e]?g[e]=s.exports:d===t&&y||(g[e]=d))}else e&&(g[e]=o)},e=n=f=function(e,n,o,r,i){if("string"==typeof e)return m[e]?m[e](n):c(p(e,n).f);if(!e.splice){if(y=e,y.deps&&f(y.deps,y.callback),!n)return;n.splice?(e=n,n=o,o=null):e=t}return n=n||function(){},"function"==typeof o&&(o=r,r=i),r?h(t,e,n,o):setTimeout(function(){h(t,e,n,o)},4),f},f.config=function(e){return f(e)},e._defined=g,o=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(g,e)||r(v,e)||(v[e]=[e,t,n])},o.amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=o}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var o in t){"function"==typeof t[o]&&"constructor"!==o&&n.push(o)}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var o={}.hasOwnProperty;for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function o(){var t=Array.prototype.unshift,o=n.prototype.constructor.length,r=e.prototype.constructor;o>0&&(t.call(arguments,e.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=o}var i=t(n),a=t(e);n.displayName=e.displayName,o.prototype=new r;for(var s=0;s<a.length;s++){var l=a[s];o.prototype[l]=e.prototype[l]}for(var c=0;c<i.length;c++){var u=i[c];o.prototype[u]=function(e){var t=function(){};e in o.prototype&&(t=o.prototype[e]);var r=n.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),r.apply(this,arguments)}}(u)}return o};var o=function(){this.listeners={}};return o.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},o.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},o.prototype.invoke=function(e,t){for(var n=0,o=e.length;o>n;n++)e[n].apply(this,t)},n.Observable=o,n.generateChars=function(e){for(var t="",n=0;e>n;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),o=e;if(1!==n.length){for(var r=0;r<n.length;r++){var i=n[r];i=i.substring(0,1).toLowerCase()+i.substring(1),i in o||(o[i]={}),r==n.length-1&&(o[i]=e[t]),o=o[i]}delete e[t]}}return e},n.hasScroll=function(t,n){var o=e(n),r=n.style.overflowX,i=n.style.overflowY;return(r!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===r||"scroll"===i||(o.innerHeight()<n.scrollHeight||o.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var o=e();e.map(n,function(e){o=o.add(e)}),n=o}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,o){this.$element=e,this.data=o,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var o=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);o.append(n(r(t.args))),o[0].className+=" select2-results__message",this.$results.append(o)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var o=e.results[n],r=this.option(o);t.push(r)}this.$results.append(t)},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var o=e.map(n,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var t=e(this),n=e.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(r,o)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},o=this.option(n);o.className+=" loading-results",this.$results.prepend(o)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var o={role:"treeitem","aria-selected":"false"};t.disabled&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==t.id&&delete o["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(o.role="group",o["aria-label"]=t.text,delete o["aria-selected"]);for(var r in o){var i=o[r];n.setAttribute(r,i)}if(t.children){var a=e(n),s=document.createElement("strong");s.className="select2-results__group",e(s),this.template(t,s);for(var l=[],c=0;c<t.children.length;c++){var u=t.children[c],d=this.option(u);l.push(d)}var h=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(l),a.append(s),a.append(h)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var o=this,r=t.id+"-results";this.$results.attr("id",r),t.on("results:all",function(e){o.clear(),o.append(e.data),t.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),t.on("results:append",function(e){o.append(e.data),t.isOpen()&&o.setClasses()}),t.on("query",function(e){o.hideMessages(),o.showLoading(e)}),t.on("select",function(){t.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),t.on("open",function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()}),t.on("close",function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=o.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=o.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var r=n-1;0===e.length&&(r=0);var i=t.eq(r);i.trigger("mouseenter");var a=o.$results.offset().top,s=i.offset().top,l=o.$results.scrollTop()+(s-a);0===r?o.$results.scrollTop(0):0>s-a&&o.$results.scrollTop(l)}}),t.on("results:next",function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),n=t.index(e),r=n+1;if(!(r>=t.length)){var i=t.eq(r);i.trigger("mouseenter");var a=o.$results.offset().top+o.$results.outerHeight(!1),s=i.offset().top+i.outerHeight(!1),l=o.$results.scrollTop()+s-a;0===r?o.$results.scrollTop(0):s>a&&o.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){o.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-t+e.deltaY,r=e.deltaY>0&&t-e.deltaY<=0,i=e.deltaY<0&&n<=o.$results.height();r?(o.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var n=e(this),r=n.data("data");return"true"===n.attr("aria-selected")?void(o.options.get("multiple")?o.trigger("unselect",{originalEvent:t,data:r}):o.trigger("close",{})):void o.trigger("select",{originalEvent:t,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var n=e(this).data("data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),o=this.$results.offset().top,r=e.offset().top,i=this.$results.scrollTop()+(r-o),a=r-o;i-=2*e.outerHeight(!1),2>=n?this.$results.scrollTop(0):(a>this.$results.outerHeight()||0>a)&&this.$results.scrollTop(i)}},n.prototype.template=function(t,n){var o=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),i=o(t,n);null==i?n.style.display="none":"string"==typeof i?n.innerHTML=r(i):e(n).append(i)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return t.Extend(o,t.Observable),o.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},o.prototype.bind=function(e,t){var o=this,r=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){o.trigger("focus",e)}),this.$selection.on("blur",function(e){o._handleBlur(e)}),this.$selection.on("keydown",function(e){o.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){o.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){o.update(e.data)}),e.on("open",function(){o.$selection.attr("aria-expanded","true"),o.$selection.attr("aria-owns",r),o._attachCloseHandler(e)}),e.on("close",function(){o.$selection.attr("aria-expanded","false"),o.$selection.removeAttr("aria-activedescendant"),o.$selection.removeAttr("aria-owns"),o.$selection.focus(),o._detachCloseHandler(e)}),e.on("enable",function(){o.$selection.attr("tabindex",o._tabindex)}),e.on("disable",function(){o.$selection.attr("tabindex","-1")})},o.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},o.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),o=n.closest(".select2");e(".select2.select2-container--open").each(function(){var t=e(this);this!=o[0]&&t.data("element").select2("close")})})},o.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},o.prototype.position=function(e,t){t.find(".selection").append(e)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},o}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,o){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments);var o=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",o),this.$selection.attr("aria-labelledby",o),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),o=this.display(t,n);n.empty().append(o),n.prop("title",t.title||t.text)},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function o(e,t){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},o.prototype.bind=function(t,n){var r=this;o.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){r.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!r.options.get("disabled")){var n=e(this),o=n.parent(),i=o.data("data");r.trigger("unselect",{originalEvent:t,data:i})}})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},o.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],o=0;o<e.length;o++){var r=e[o],i=this.selectionContainer(),a=this.display(r,i);i.append(a),i.prop("title",r.title||r.text),i.data("data",r),t.push(i)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,t)}},o}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){o._handleClear(e)}),t.on("keypress",function(e){o._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var o=n.data("data"),r=0;r<o.length;r++){var i={data:o[r]}
;if(this.trigger("unselect",i),i.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,o){o.isOpen()||(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var o=e('<span class="select2-selection__clear">&times;</span>');o.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(o)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function o(e,t,n){e.call(this,t,n)}return o.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var o=t.call(this);return this._transferTabIndex(),o},o.prototype.bind=function(e,t,o){var r=this;e.call(this,t,o),t.on("open",function(){r.$search.trigger("focus")}),t.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),t.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),t.on("disable",function(){r.$search.prop("disabled",!0)}),t.on("focus",function(e){r.$search.trigger("focus")}),t.on("results:focus",function(e){r.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){r.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){r._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===r.$search.val()){var t=r.$searchContainer.prev(".select2-selection__choice");if(t.length>0){var o=t.data("data");r.searchRemoveChoice(o),e.preventDefault()}}});var i=document.documentMode,a=i&&11>=i;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return a?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(a&&"input"===e.type)return void r.$selection.off("input.search input.searchcheck");var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&r.handleSearch(e)})},o.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},o.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},o.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},o.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},o.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},o.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{e=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",e)},o}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,o){var r=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];t.call(this,n,o),n.on("*",function(t,n){if(-1!==e.inArray(t,i)){n=n||{};var o=e.Event("select2:"+t,{params:n});r.$element.trigger(o),-1!==e.inArray(t,a)&&(n.prevented=o.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var o=t(e);n._cache[e]=o}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var o=t.id+"-result-";return o+=e.generateChars(4),o+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return t.Extend(o,e),o.prototype.current=function(e){var t=[],o=this;this.$element.find(":selected").each(function(){var e=n(this),r=o.item(e);t.push(r)}),e(t)},o.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(o){var r=[];e=[e],e.push.apply(e,o);for(var i=0;i<e.length;i++){var a=e[i].id;-1===n.inArray(a,r)&&r.push(a)}t.$element.val(r),t.$element.trigger("change")});else{var o=e.id;this.$element.val(o),this.$element.trigger("change")}},o.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(o){for(var r=[],i=0;i<o.length;i++){var a=o[i].id;a!==e.id&&-1===n.inArray(a,r)&&r.push(a)}t.$element.val(r),t.$element.trigger("change")})},o.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},o.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},o.prototype.query=function(e,t){var o=[],r=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var i=r.item(t),a=r.matches(e,i);null!==a&&o.push(a)}}),t({results:o})},o.prototype.addOptions=function(e){t.appendMany(this.$element,e)},o.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var o=n(t),r=this._normalizeItem(e);return r.element=t,n.data(t,"data",r),o},o.prototype.item=function(e){var t={};if(null!=(t=n.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var o=e.children("option"),r=[],i=0;i<o.length;i++){var a=n(o[i]),s=this.item(a);r.push(s)}t.children=r}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},o.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},o.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},o}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function o(e,t){var n=t.get("data")||[];o.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(o,e),o.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),o.__super__.select.call(this,e)},o.prototype.convertToOptions=function(e){for(var o=this,r=this.$element.find("option"),i=r.map(function(){return o.item(n(this)).id}).get(),a=[],s=0;s<e.length;s++){var l=this._normalizeItem(e[s]);if(n.inArray(l.id,i)>=0){var c=r.filter(function(e){return function(){return n(this).val()==e.id}}(l)),u=this.item(c),d=n.extend(!0,{},l,u),h=this.option(d);c.replaceWith(h)}else{var f=this.option(l);if(l.children){var p=this.convertToOptions(l.children);t.appendMany(f,p)}a.push(f)}}return a},o}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function o(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),o.__super__.constructor.call(this,e,t)}return t.Extend(o,e),o.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,o){var r=n.ajax(e);return r.then(t),r.fail(o),r}};return n.extend({},t,e,!0)},o.prototype.processResults=function(e){return e},o.prototype.query=function(e,t){function o(){var o=i.transport(i,function(o){var i=r.processResults(o,e);r.options.get("debug")&&window.console&&console.error&&(i&&i.results&&n.isArray(i.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(i)},function(){o.status&&"0"===o.status||r.trigger("results:message",{message:"errorLoading"})});r._request=o}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var i=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof i.url&&(i.url=i.url.call(this.$element,e)),"function"==typeof i.data&&(i.data=i.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},o}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,o){var r=o.get("tags"),i=o.get("createTag");void 0!==i&&(this.createTag=i);var a=o.get("insertTag");if(void 0!==a&&(this.insertTag=a),t.call(this,n,o),e.isArray(r))for(var s=0;s<r.length;s++){var l=r[s],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return t.prototype.query=function(e,t,n){function o(e,i){for(var a=e.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!o({results:l.children},!0);if(l.text===t.term||c)return!i&&(e.data=a,void n(e))}if(i)return!0;var u=r.createTag(t);if(null!=u){var d=r.option(u);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(a,u)}e.results=a,n(e)}var r=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,o)},t.prototype.createTag=function(t,n){var o=e.trim(n.term);return""===o?null:{id:o,text:o}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var o=n.get("tokenizer");void 0!==o&&(this.tokenizer=o),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,o){function r(t){var n=a._normalizeItem(t);if(!a.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var o=a.option(n);o.attr("data-select2-tag",!0),a._removeOldTags(),a.addOptions([o])}i(n)}function i(e){a.trigger("select",{data:e})}var a=this;n.term=n.term||"";var s=this.tokenizer(n,this.options,r);s.term!==n.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),n.term=s.term),t.call(this,n,o)},t.prototype.tokenizer=function(t,n,o,r){for(var i=o.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;){var c=a[s];if(-1!==e.inArray(c,i)){var u=a.substr(0,s),d=e.extend({},n,{term:u}),h=l(d);null!=h?(r(h),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var o=this;this.current(function(r){var i=null!=r?r.length:0;return o.maximumSelectionLength>0&&i>=o.maximumSelectionLength?void o.trigger("results:message",{message:"maximumSelected",args:{maximum:o.maximumSelectionLength}}):void e.call(o,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),o=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=o,this.$search=o.find("input"),n.prepend(o),n},n.prototype.bind=function(t,n,o){var r=this;t.call(this,n,o),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,o){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,o)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),o=t.length-1;o>=0;o--){var r=t[o];this.placeholder.id===r.id&&n.splice(o,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,o){this.lastParams={},e.call(this,t,n,o),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,o){var r=this;t.call(this,n,o),n.on("query",function(e){r.lastParams=e,r.loading=!0}),n.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&t){r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,o){this.$dropdownParent=o.get("dropdownParent")||e(document.body),t.call(this,n,o)}return n.prototype.bind=function(e,t,n){var o=this,r=!1;e.call(this,t,n),t.on("open",function(){o._showDropdown(),o._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){o._positionDropdown(),o._resizeDropdown()}),t.on("results:append",function(){o._positionDropdown(),o._resizeDropdown()}))}),t.on("close",function(){o._hideDropdown(),o._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),o=t.call(this);return n.append(o),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,o){var r=this,i="scroll.select2."+o.id,a="resize.select2."+o.id,s="orientationchange.select2."+o.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(i,function(t){var n=e(this).data("select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(i+" "+a+" "+s,function(e){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,o){var r="scroll.select2."+o.id,i="resize.select2."+o.id,a="orientationchange.select2."+o.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+i+" "+a)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),o=this.$dropdown.hasClass("select2-dropdown--below"),r=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=i.top,a.bottom=i.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<i.top-s.height,u=l.bottom>i.bottom+s.height,d={left:i.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();d.top-=f.top,d.left-=f.left,n||o||(r="below"),u||!c||n?!c&&u&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(d.top=a.top-f.top-s.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,o=0;o<t.length;o++){var r=t[o];r.children?n+=e(r.children):n++}return n}function t(e,t,n,o){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,o)}return t.prototype.showSearch=function(t,n){return!(e(n.data.results)<this.minimumResultsForSearch)&&t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),t.on("close",function(e){o._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var r=o.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),t.on("select",function(e){o._selectTriggered(e)}),t.on("unselect",function(e){o._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,o,r,i,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,S,_,x,T,D,E,N){function A(){this.reset()}return A.prototype.apply=function(d){if(d=e.extend(!0,{},this.defaults,d),null==d.dataAdapter){if(null!=d.ajax?d.dataAdapter=p:null!=d.data?d.dataAdapter=f:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null!=d.query){var N=t(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,N)}if(null!=d.initSelection){var A=t(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,A)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,_)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,S)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,D))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var R=c.Decorate(w,C);d.dropdownAdapter=R}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var I=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,I)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,x)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=r:d.selectionAdapter=o,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,i)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var O=t(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,O)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}
if("string"==typeof d.language)if(d.language.indexOf("-")>0){var k=d.language.split("-"),L=k[0];d.language=[d.language,L]}else d.language=[d.language];if(e.isArray(d.language)){var $=new u;d.language.push("en");for(var P=d.language,M=0;M<P.length;M++){var H=P[M],j={};try{j=u.loadPath(H)}catch(e){try{H=this.defaults.amdLanguageBase+H,j=u.loadPath(H)}catch(e){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+H+'" could not be automatically loaded. A fallback will be used instead.');continue}}$.extend(j)}d.translations=$}else{var B=u.loadPath(this.defaults.amdLanguageBase+"en"),F=new u(d.language);F.extend(B),d.translations=F}return d},A.prototype.reset=function(){function t(e){function t(e){return d[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(o,r){if(""===e.trim(o.term))return r;if(r.children&&r.children.length>0){for(var i=e.extend(!0,{},r),a=r.children.length-1;a>=0;a--){null==n(o,r.children[a])&&i.children.splice(a,1)}return i.children.length>0?i:n(o,i)}var s=t(r.text).toUpperCase(),l=t(o.term).toUpperCase();return s.indexOf(l)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:N,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.set=function(t,n){var o=e.camelCase(t),r={};r[o]=n;var i=c._convertData(r);e.extend(this.defaults,i)},new A}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,o){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var i=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=o.Decorate(this.options.dataAdapter,i)}}return r.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var r={};r=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var i=t.extend(!0,{},r);i=o._convertData(i);for(var a in i)t.inArray(a,n)>-1||(t.isPlainObject(this.options[a])?t.extend(this.options[a],i[a]):this.options[a]=i[a]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,o){var r=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),r.__super__.constructor.call(this);var o=e.attr("tabindex")||0;e.data("old-tabindex",o),e.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(e,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){u.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return 0>=o?"auto":o+"px"}if("style"==t){var r=e.attr("style");if("string"!=typeof r)return null;for(var i=r.split(";"),a=0,s=i.length;s>a;a+=1){var l=i[a].replace(/\s/g,""),c=l.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(null!==c&&c.length>=1)return c[1]}return null}return t},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=o?(this._observer=new o(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(o,r){-1===e.inArray(o,n)&&t.trigger(o,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===o.ESC||n===o.TAB||n===o.UP&&t.altKey?(e.close(),t.preventDefault()):n===o.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===o.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===o.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===o.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===o.ENTER||n===o.SPACE||n===o.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var n=!1,o=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var r=0;r<t.addedNodes.length;r++){var i=t.addedNodes[r];i.selected&&(n=!0)}else t.removedNodes&&t.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){o.trigger("selection:update",{data:e})})}},r.prototype.trigger=function(e,t){var n=r.__super__.trigger,o={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in o){var i=o[e],a={prevented:!1,name:e,args:t};if(n.call(this,i,a),a.prevented)return void(t.prevented=!0)}n.call(this,e,t)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},r}),t.define("jquery-mousewheel",["jquery"],function(e){return e}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,o){if(null==e.fn.select2){var r=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var o=e.extend(!0,{},t);new n(e(this),o)}),this;if("string"==typeof t){var o,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),o=n[t].apply(n,i)}),e.inArray(t,r)>-1?this:o}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=o),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/ar",[],function(){return{errorLoading:function(){return"   "},inputTooLong:function(e){return"  "+(e.input.length-e.maximum)+" "},inputTooShort:function(e){return"  "+(e.minimum-e.input.length)+" "},loadingMore:function(){return"   ..."},maximumSelected:function(e){return"  "+e.maximum+"  "},noResults:function(){return"     "},searching:function(){return" "}}}),{define:e.define,require:e.require}}();var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function e(e,t){var n=typeof e[t];return n==d||!(n!=u||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=u||!e[t])}function n(e,t){return typeof e[t]!=h}function o(e){return function(t,n){for(var o=n.length;o--;)if(!e(t,n[o]))return!1;return!0}}function r(e){return e&&v(e,g)&&b(e,m)}function i(e){window.alert("Rangy not supported in your browser. Reason: "+e),w.initialized=!0,w.supported=!1}function a(e){var t="Rangy warning: "+e;w.config.alertOnWarn?window.alert(t):typeof window.console!=h&&typeof window.console.log!=h&&window.console.log(t)}function s(){if(!w.initialized){var n,o=!1,a=!1;e(document,"createRange")&&(n=document.createRange(),v(n,p)&&b(n,f)&&(o=!0),n.detach());var s=t(document,"body")?document.body:document.getElementsByTagName("body")[0];s&&e(s,"createTextRange")&&(n=s.createTextRange(),r(n)&&(a=!0)),o||a||i("Neither Range nor TextRange are implemented"),w.initialized=!0,w.features={implementsDomRange:o,implementsTextRange:a};for(var l=S.concat(C),c=0,u=l.length;c<u;++c)try{l[c](w)}catch(n){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",n)}}}function l(e){e=e||window,s();for(var t=0,n=_.length;t<n;++t)_[t](e)}function c(e){this.name=e,this.initialized=!1,this.supported=!1}var u="object",d="function",h="undefined",f=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],p=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=o(e),y=o(t),b=o(n),w={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:v,areHostObjects:y,areHostProperties:b,isTextRange:r},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};w.fail=i,w.warn=a,!{}.hasOwnProperty?i("hasOwnProperty not supported"):w.util.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};var C=[],S=[];w.init=s,w.addInitListener=function(e){w.initialized?e(w):C.push(e)};var _=[];w.addCreateMissingNativeApiListener=function(e){_.push(e)},w.createMissingNativeApi=l,c.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},c.prototype.warn=function(e){w.warn("Module "+this.name+": "+e)},c.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},w.createModule=function(e,t){var n=new c(e);w.modules[e]=n,S.push(function(e){t(e,n),n.initialized=!0,n.supported=!0})},w.requireModules=function(e){for(var t,n,o=0,r=e.length;o<r;++o){if(n=e[o],!((t=w.modules[n])&&t instanceof c))throw new Error("Module '"+n+"' not found");if(!t.supported)throw new Error("Module '"+n+"' not supported")}};var x=!1,T=function(e){x||(x=!0,w.initialized||s())};return typeof window==h?void i("No window found"):typeof document==h?void i("No document found"):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",T,!1),e(window,"addEventListener")?window.addEventListener("load",T,!1):e(window,"attachEvent")?window.attachEvent("onload",T):i("Window does not have required addEventListener or attachEvent method"),w)}(),rangy.createModule("DomUtil",function(e,t){function n(e){var t;return typeof e.namespaceURI==T||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function o(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)t++;return t}function i(e){var t;return c(e)?e.length:(t=e.childNodes)?t.length:0}function a(e,t){var n,o=[];for(n=e;n;n=n.parentNode)o.push(n);for(n=t;n;n=n.parentNode)if(A(o,n))return n;return null}function s(e,t,n){for(var o=n?t:t.parentNode;o;){if(o===e)return!0;o=o.parentNode}return!1}function l(e,t,n){for(var o,r=n?e:e.parentNode;r;){if((o=r.parentNode)===t)return r;r=o}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function u(e,t){var n=t.nextSibling,o=t.parentNode;return n?o.insertBefore(e,n):o.appendChild(e),e}function d(e,t){var n=e.cloneNode(!1);return n.deleteData(0,t),e.deleteData(t,e.length-t),u(n,e),n}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=T)return e.ownerDocument;if(typeof e.document!=T)return e.document;if(e.parentNode)return h(e.parentNode);throw new Error("getDocument: no document found for node")}function f(e){var t=h(e);if(typeof t.defaultView!=T)return t.defaultView;if(typeof t.parentWindow!=T)return t.parentWindow;throw new Error("Cannot get a window object for node")}function p(e){if(typeof e.contentDocument!=T)return e.contentDocument;if(typeof e.contentWindow!=T)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(e){if(typeof e.contentWindow!=T)return e.contentWindow;if(typeof e.contentDocument!=T)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(e){return D.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}function v(e){for(var t;t=e.parentNode;)e=t;return e}function y(e,t,n,o){var i,s,c,u,d;if(e==n)return t===o?0:t<o?-1:1;if(i=l(n,e,!0))return t<=r(i)?-1:1;if(i=l(e,n,!0))return r(i)<o?-1:1;if(s=a(e,n),c=e===s?s:l(e,s,!0),u=n===s?s:l(n,s,!0),c===u)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(d=s.firstChild;d;){if(d===c)return-1;if(d===u)return 1;d=d.nextSibling}throw new Error("Should not be here!")}function b(e){for(var t,n=h(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function w(e){if(!e)return"[No node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function C(e){this.root=e,this._next=e}function S(e){return new C(e)}function _(e,t){this.node=e,this.offset=t}function x(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var T="undefined",D=e.util;D.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),D.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var E=document.createElement("div");D.areHostMethods(E,["insertBefore","appendChild","cloneNode"]||!D.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),D.isHostProperty(E,"innerHTML")||t.fail("Element is missing innerHTML property");var N=document.createTextNode("test");D.areHostMethods(N,["splitText","deleteData","insertData","appendData","cloneNode"]||!D.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"])||!D.areHostProperties(N,["data"]))||t.fail("Incomplete Text Node implementation");var A=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};C.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},_.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+w(this.node)+":"+this.offset+")]"}},x.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},x.prototype.toString=function(){return this.message},e.dom={arrayContains:A,isHtmlNamespace:n,parentElement:o,getNodeIndex:r,getNodeLength:i,getCommonAncestor:a,isAncestorOf:s,getClosestAncestorIn:l,isCharacterDataNode:c,insertAfter:u,splitDataNode:d,getDocument:h,getWindow:f,getIframeWindow:m,getIframeDocument:p,getBody:g,getRootContainer:v,comparePoints:y,inspectNode:w,fragmentFromNodeChildren:b,createIterator:S,DomPosition:_},e.DOMException=x}),rangy.createModule("DomRange",function(e,t){function n(e,t){return 3!=e.nodeType&&(M.isAncestorOf(e,t.startContainer,!0)||M.isAncestorOf(e,t.endContainer,!0))}function o(e){return M.getDocument(e.startContainer)}function r(e,t,n){var o=e._listeners[t];if(o)for(var r=0,i=o.length;r<i;++r)o[r].call(e,{target:e,args:n})}function i(e){return new H(e.parentNode,M.getNodeIndex(e))}function a(e){return new H(e.parentNode,M.getNodeIndex(e)+1)}function s(e,t,n){var o=11==e.nodeType?e.firstChild:e;return M.isCharacterDataNode(t)?n==t.length?M.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:M.splitDataNode(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),o}function l(e){for(var t,n,r,i=o(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(r=e.getSubtreeIterator(),n.appendChild(l(r)),r.detach(!0)),10==n.nodeType)throw new j("HIERARCHY_REQUEST_ERR");i.appendChild(n)}return i}function c(e,t,n){var o,r;n=n||{stop:!1};for(var i,a;i=e.next();)if(e.isPartiallySelectedSubtree()){if(t(i)===!1)return void(n.stop=!0);if(a=e.getSubtreeIterator(),c(a,t,n),a.detach(!0),n.stop)return}else for(o=M.createIterator(i);r=o.next();)if(t(r)===!1)return void(n.stop=!0)}function u(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),u(t),t.detach(!0)):e.remove()}function d(e){for(var t,n,r=o(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(d(n)),n.detach(!0)):e.remove(),10==t.nodeType)throw new j("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function h(e,t,n){var o,r=!(!t||!t.length),i=!!n;r&&(o=new RegExp("^("+t.join("|")+")$"));var a=[];return c(new p(e,!1),function(e){r&&!o.test(e.nodeType)||i&&!n(e)||a.push(e)}),a}function f(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+M.inspectNode(e.startContainer)+":"+e.startOffset+", "+M.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&M.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||M.isCharacterDataNode(this.sc)?M.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||M.isCharacterDataNode(this.ec)?M.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function g(e,t,n){this.nodes=h(e,t,n),this._next=this.nodes[0],this._position=0}function v(e){return function(t,n){for(var o,r=n?t:t.parentNode;r;){if(o=r.nodeType,M.arrayContains(e,o))return r;r=r.parentNode}return null}}function y(e,t){if(K(e,t))throw new m("INVALID_NODE_TYPE_ERR")}function b(e){if(!e.startContainer)throw new j("INVALID_STATE_ERR")}function w(e,t){if(!M.arrayContains(t,e.nodeType))throw new m("INVALID_NODE_TYPE_ERR")}function C(e,t){if(t<0||t>(M.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new j("INDEX_SIZE_ERR")}function S(e,t){if(V(e,!0)!==V(t,!0))throw new j("WRONG_DOCUMENT_ERR")}function _(e){if(G(e,!0))throw new j("NO_MODIFICATION_ALLOWED_ERR")}function x(e,t){if(!e)throw new j(t)}function T(e){return!M.arrayContains(F,e.nodeType)&&!V(e,!0)}function D(e,t){return t<=(M.isCharacterDataNode(e)?e.length:e.childNodes.length)}function E(e){if(b(e),T(e.startContainer)||T(e.endContainer)||!D(e.startContainer,e.startOffset)||!D(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function N(){}function A(e){e.START_TO_START=Z,e.START_TO_END=ee,e.END_TO_END=te,e.END_TO_START=ne,e.NODE_BEFORE=oe,e.NODE_AFTER=re,e.NODE_BEFORE_AND_AFTER=ie,e.NODE_INSIDE=ae}function R(e){A(e),A(e.prototype)}function I(e,t){return function(){E(this);var n,o,r=this.startContainer,i=this.startOffset,s=this.commonAncestorContainer,l=new p(this,!0);r!==s&&(n=M.getClosestAncestorIn(r,s,!0),o=a(n),r=o.node,i=o.offset),c(l,_),l.reset();var u=e(l);return l.detach(),t(this,r,i,r,i),u}}function O(t,o,r){function s(e,t){return function(n){b(this),w(n,B),w(z(n),F);var o=(e?i:a)(n);(t?l:c)(this,o.node,o.offset)}}function l(e,t,n){var r=e.endContainer,i=e.endOffset;t===e.startContainer&&n===e.startOffset||(z(t)==z(r)&&1!=M.comparePoints(t,n,r,i)||(r=t,i=n),o(e,t,n,r,i))}function c(e,t,n){var r=e.startContainer,i=e.startOffset;t===e.endContainer&&n===e.endOffset||(z(t)==z(r)&&M.comparePoints(t,n,r,i)!=-1||(r=t,i=n),o(e,r,i,t,n))}function h(e,t,n){t===e.startContainer&&n===e.startOffset&&t===e.endContainer&&n===e.endOffset||o(e,t,n,t,n)}t.prototype=new N,e.util.extend(t.prototype,{setStart:function(e,t){b(this),y(e,!0),C(e,t),l(this,e,t)},setEnd:function(e,t){b(this),y(e,!0),C(e,t),c(this,e,t)},setStartBefore:s(!0,!0),setStartAfter:s(!1,!0),setEndBefore:s(!0,!1),setEndAfter:s(!1,!1),collapse:function(e){E(this),e?o(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):o(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){b(this),y(e,!0),o(this,e,0,e,M.getNodeLength(e))},selectNode:function(e){b(this),y(e,!1),w(e,B);var t=i(e),n=a(e);o(this,t.node,t.offset,n.node,n.offset)},extractContents:I(d,o),deleteContents:I(u,o),canSurroundContents:function(){E(this),_(this.startContainer),_(this.endContainer);var e=new p(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},detach:function(){r(this)},splitBoundaries:function(){E(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,r=this.endOffset,i=e===n;M.isCharacterDataNode(n)&&r>0&&r<n.length&&M.splitDataNode(n,r),M.isCharacterDataNode(e)&&t>0&&t<e.length&&(e=M.splitDataNode(e,t),i?(r-=t,n=e):n==e.parentNode&&r>=M.getNodeIndex(e)&&r++,t=0),o(this,e,t,n,r)},normalizeBoundaries:function(){E(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,r=this.endOffset,i=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,r=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},a=function(o){var i=o.previousSibling;if(i&&i.nodeType==o.nodeType){e=o;var a=o.length;if(t=i.length,o.insertData(0,i.data),i.parentNode.removeChild(i),e==n)r+=t,n=e;else if(n==o.parentNode){var s=M.getNodeIndex(o);r==s?(n=o,r=a):r>s&&r--}}},s=!0;if(M.isCharacterDataNode(n))n.length==r&&i(n);else{if(r>0){var l=n.childNodes[r-1];l&&M.isCharacterDataNode(l)&&i(l)}s=!this.collapsed}if(s){if(M.isCharacterDataNode(e))0==t&&a(e);else if(t<e.childNodes.length){var c=e.childNodes[t];c&&M.isCharacterDataNode(c)&&a(c)}}else e=n,t=r;o(this,e,t,n,r)},collapseToPoint:function(e,t){b(this),y(e,!0),C(e,t),h(this,e,t)}}),R(t)}function k(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:M.getCommonAncestor(e.startContainer,e.endContainer)}function L(e,t,n,o,i){var a=e.startContainer!==t||e.startOffset!==n,s=e.endContainer!==o||e.endOffset!==i;e.startContainer=t,e.startOffset=n,e.endContainer=o,e.endOffset=i,k(e),r(e,"boundarychange",{startMoved:a,endMoved:s})}function $(e){b(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,r(e,"detach",null),e._listeners=null}function P(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},k(this)}e.requireModules(["DomUtil"]);var M=e.dom,H=M.DomPosition,j=e.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,M.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!M.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){return n(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new P(o(this.range));var t=this._current,n=t,r=0,i=t,a=M.getNodeLength(t);M.isAncestorOf(t,this.sc,!0)&&(n=this.sc,r=this.so),M.isAncestorOf(t,this.ec,!0)&&(i=this.ec,a=this.eo),L(e,n,r,i,a)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},m.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},m.prototype.toString=function(){return this.message},g.prototype={_current:null,hasNext:function(){
return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var B=[1,3,4,5,7,8,10],F=[2,9,11],q=[5,6,10,12],U=[1,3,4,5,7,8,10,11],W=[1,3,4,5,7,8],z=M.getRootContainer,V=v([9,11]),G=v(q),K=v([6,10,12]),Y=document.createElement("style"),X=!1;try{Y.innerHTML="<b>x</b>",X=3==Y.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=X;var J=X?function(e){var t=this.startContainer,n=M.getDocument(t);if(!t)throw new j("INVALID_STATE_ERR");var o=null;return 1==t.nodeType?o=t:M.isCharacterDataNode(t)&&(o=M.parentElement(t)),o=null===o||"HTML"==o.nodeName&&M.isHtmlNamespace(M.getDocument(o).documentElement)&&M.isHtmlNamespace(o)?n.createElement("body"):o.cloneNode(!1),o.innerHTML=e,M.fragmentFromNodeChildren(o)}:function(e){b(this);var t=o(this),n=t.createElement("body");return n.innerHTML=e,M.fragmentFromNodeChildren(n)},Q=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,ee=1,te=2,ne=3,oe=0,re=1,ie=2,ae=3;N.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){E(this),S(this.startContainer,t.startContainer);var n,o,r,i,a=e==ne||e==Z?"start":"end",s=e==ee||e==Z?"start":"end";return n=this[a+"Container"],o=this[a+"Offset"],r=t[s+"Container"],i=t[s+"Offset"],M.comparePoints(n,o,r,i)},insertNode:function(e){if(E(this),w(e,U),_(this.startContainer),M.isAncestorOf(e,this.startContainer,!0))throw new j("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){E(this);var e,t;if(this.collapsed)return o(this).createDocumentFragment();if(this.startContainer===this.endContainer&&M.isCharacterDataNode(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=o(this).createDocumentFragment(),t.appendChild(e),t;var n=new p(this,!0);return e=l(n),n.detach(),e},canSurroundContents:function(){E(this),_(this.startContainer),_(this.endContainer);var e=new p(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(w(e,W),!this.canSurroundContents())throw new m("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){E(this);for(var e,t=new P(o(this)),n=Q.length;n--;)e=Q[n],t[e]=this[e];return t},toString:function(){E(this);var e=this.startContainer;if(e===this.endContainer&&M.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new p(this,!0);return c(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){E(this);var t=e.parentNode,n=M.getNodeIndex(e);if(!t)throw new j("NOT_FOUND_ERR");var o=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return o<0?r>0?ie:oe:r>0?re:ae},comparePoint:function(e,t){return E(this),x(e,"HIERARCHY_REQUEST_ERR"),S(e,this.startContainer),M.comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:M.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:J,toHtml:function(){E(this);var e=o(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(E(this),x(e,"NOT_FOUND_ERR"),M.getDocument(e)!==o(this))return!1;var n=e.parentNode,r=M.getNodeIndex(e);x(n,"NOT_FOUND_ERR");var i=M.comparePoints(n,r,this.endContainer,this.endOffset),a=M.comparePoints(n,r+1,this.startContainer,this.startOffset);return t?i<=0&&a>=0:i<0&&a>0},isPointInRange:function(e,t){return E(this),x(e,"HIERARCHY_REQUEST_ERR"),S(e,this.startContainer),M.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&M.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){if(E(this),o(e)!=o(this))throw new j("WRONG_DOCUMENT_ERR");var n=M.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),r=M.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?n<=0&&r>=0:n<0&&r>0},intersection:function(e){if(this.intersectsRange(e)){var t=M.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=M.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),o=this.cloneRange();return t==-1&&o.setStart(e.startContainer,e.startOffset),1==n&&o.setEnd(e.endContainer,e.endOffset),o}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return M.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)==-1&&t.setStart(e.startContainer,e.startOffset),1==M.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new m("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ae},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,M.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var o=n.pop();t.setEnd(o,o.length);var r=this.containsRange(t);return t.detach(),r}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return E(this),new g(this,e,t)},getNodes:function(e,t){return E(this),h(this,e,t)},getDocument:function(){return o(this)},collapseBefore:function(e){b(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){b(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return P.rangesEqual(this,e)},inspect:function(){return f(this)}},O(P,L,$),e.rangePrototype=N.prototype,P.rangeProperties=Q,P.RangeIterator=p,P.copyComparisonConstants=R,P.createPrototypeRange=O,P.inspect=f,P.getRangeDocument=o,P.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=P,e.RangeException=m}),rangy.createModule("WrappedRange",function(e,t){function n(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var o=n.parentElement();n=e.duplicate(),n.collapse(!1);var r=n.parentElement(),i=o==r?o:s.getCommonAncestor(o,r);return i==t?i:s.getCommonAncestor(t,i)}function o(e){return 0==e.compareEndPoints("StartToEnd",e)}function r(e,t,n,o){var r=e.duplicate();r.collapse(n);var i=r.parentElement();if(s.isAncestorOf(t,i,!0)||(i=t),!i.canHaveHTML)return new l(i.parentNode,s.getNodeIndex(i));var a,c,u,d,h,f=s.getDocument(i).createElement("span"),p=n?"StartToStart":"StartToEnd";do{i.insertBefore(f,f.previousSibling),r.moveToElementText(f)}while((a=r.compareEndPoints(p,e))>0&&f.previousSibling);if(h=f.nextSibling,a==-1&&h&&s.isCharacterDataNode(h)){r.setEndPoint(n?"EndToStart":"EndToEnd",e);var m;if(/[\r\n]/.test(h.data)){var g=r.duplicate(),v=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",v);(a=g.compareEndPoints("StartToEnd",g))==-1;)m++,g.moveStart("character",1)}else m=r.text.length;d=new l(h,m)}else c=(o||!n)&&f.previousSibling,u=(o||n)&&f.nextSibling,d=u&&s.isCharacterDataNode(u)?new l(u,0):c&&s.isCharacterDataNode(c)?new l(c,c.length):new l(i,s.getNodeIndex(f));return f.parentNode.removeChild(f),d}function i(e,t){var n,o,r,i,a=e.offset,l=s.getDocument(e.node),c=l.body.createTextRange(),u=s.isCharacterDataNode(e.node);return u?(n=e.node,o=n.parentNode):(i=e.node.childNodes,n=a<i.length?i[a]:null,o=e.node),r=l.createElement("span"),r.innerHTML="&#feff;",n?o.insertBefore(r,n):o.appendChild(r),c.moveToElementText(r),c.collapse(!t),o.removeChild(r),u&&c[t?"moveStart":"moveEnd"]("character",a),c}e.requireModules(["DomUtil","DomRange"]);var a,s=e.dom,l=s.DomPosition,c=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){a=function(e){this.textRange=e,this.refresh()},a.prototype=new c(document),a.prototype.refresh=function(){var e,t,i=n(this.textRange);o(this.textRange)?t=e=r(this.textRange,i,!0,!0):(e=r(this.textRange,i,!0,!1),t=r(this.textRange,i,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},c.copyComparisonConstants(a);var u=function(){return this}();void 0===u.Range&&(u.Range=a),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else!function(){function t(e){for(var t,n=l.length;n--;)t=l[n],e[t]=e.nativeRange[t]}function n(e,t,n,o,r){var i=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==o||e.endOffset!=r;(i||a)&&(e.setEnd(o,r),e.setStart(t,n))}function o(e){e.nativeRange.detach(),e.detached=!0;for(var t,n=l.length;n--;)t=l[n],e[t]=null}var r,i,l=c.rangeProperties;a=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,t(this)},c.createPrototypeRange(a,n,o),r=a.prototype,r.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},r.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},r.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},r.cloneContents=function(){return this.nativeRange.cloneContents()},r.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},r.collapse=function(e){this.nativeRange.collapse(e),t(this)},r.cloneRange=function(){return new a(this.nativeRange.cloneRange())},r.refresh=function(){t(this)},r.toString=function(){return this.nativeRange.toString()};var u=document.createTextNode("test");s.getBody(document).appendChild(u);var d=document.createRange();d.setStart(u,0),d.setEnd(u,0);try{d.setStart(u,1),!0,r.setStart=function(e,n){this.nativeRange.setStart(e,n),t(this)},r.setEnd=function(e,n){this.nativeRange.setEnd(e,n),t(this)},i=function(e){return function(n){this.nativeRange[e](n),t(this)}}}catch(e){!1,r.setStart=function(e,n){try{this.nativeRange.setStart(e,n)}catch(t){this.nativeRange.setEnd(e,n),this.nativeRange.setStart(e,n)}t(this)},r.setEnd=function(e,n){try{this.nativeRange.setEnd(e,n)}catch(t){this.nativeRange.setStart(e,n),this.nativeRange.setEnd(e,n)}t(this)},i=function(e,n){return function(o){try{this.nativeRange[e](o)}catch(t){this.nativeRange[n](o),this.nativeRange[e](o)}t(this)}}}r.setStartBefore=i("setStartBefore","setEndBefore"),r.setStartAfter=i("setStartAfter","setEndAfter"),r.setEndBefore=i("setEndBefore","setStartBefore"),r.setEndAfter=i("setEndAfter","setStartAfter"),d.selectNodeContents(u),d.startContainer==u&&d.endContainer==u&&0==d.startOffset&&d.endOffset==u.length?r.selectNodeContents=function(e){this.nativeRange.selectNodeContents(e),t(this)}:r.selectNodeContents=function(e){this.setStart(e,0),this.setEnd(e,c.getEndOffset(e))},d.selectNodeContents(u),d.setEnd(u,3);var h=document.createRange();h.selectNodeContents(u),h.setEnd(u,4),h.setStart(u,2),d.compareBoundaryPoints(d.START_TO_END,h)==-1&1==d.compareBoundaryPoints(d.END_TO_START,h)?r.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:r.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(d,"createContextualFragment")&&(r.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),s.getBody(document).removeChild(u),d.detach(),h.detach()}(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(a.rangeToTextRange=function(e){if(e.collapsed){return i(new l(e.startContainer,e.startOffset),!0)}var t=i(new l(e.startContainer,e.startOffset),!0),n=i(new l(e.endContainer,e.endOffset),!1),o=s.getDocument(e.startContainer).body.createTextRange();return o.setEndPoint("StartToStart",t),o.setEndPoint("EndToEnd",n),o}),a.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=a,e.createRange=function(t){return t=t||document,new a(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new c(e)},e.createIframeRange=function(t){return e.createRange(s.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(s.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(this)}),n=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function n(e){return(e||window).getSelection()}function o(e){return(e||window).document.selection}function r(e,t,n){var o=n?"end":"start",r=n?"start":"end";e.anchorNode=t[o+"Container"],e.anchorOffset=t[o+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function i(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function a(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function s(t){var n;return t instanceof S?(n=t._selectionNativeRange)||(n=e.createNativeRange(w.getDocument(t.startContainer)),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=n,t.attachListener("detach",function(){this._selectionNativeRange=null})):t instanceof _?n=t.nativeRange:e.features.implementsDomRange&&t instanceof w.getWindow(t.startContainer).Range&&(n=t),n}function l(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!w.isAncestorOf(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function u(e){return!!e&&void 0!==e.text}function d(e,t){var n=new _(t);e._ranges=[n],r(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function h(t){if(t._ranges.length=0,"None"==t.docSelection.type)a(t);else{var n=t.docSelection.createRange();if(u(n))d(t,n);else{t.rangeCount=n.length;for(var o,i=w.getDocument(n.item(0)),s=0;s<t.rangeCount;++s)o=e.createRange(i),o.selectNode(n.item(s)),t._ranges.push(o);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,r(t,t._ranges[t.rangeCount-1],!1)}}}function f(e,t){for(var n=e.docSelection.createRange(),o=c(t),r=w.getDocument(n.item(0)),i=w.getBody(r).createControlRange(),a=0,s=n.length;a<s;++a)i.add(n.item(a));try{i.add(o)}catch(e){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}i.select(),h(e)}function p(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function m(e,t){for(var n,o=w.getDocument(t[0].startContainer),r=w.getBody(o).createControlRange(),i=0;i<rangeCount;++i){n=c(t[i]);try{r.add(n)}catch(e){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}r.select(),h(e)}function g(e,t){if(e.anchorNode&&w.getDocument(e.anchorNode)!==w.getDocument(t))throw new x("WRONG_DOCUMENT_ERR")}function v(e){var t=[],n=new T(e.anchorNode,e.anchorOffset),o=new T(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var i=0,a=e.rangeCount;i<a;++i)t[i]=S.inspect(e.getRangeAt(i));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+o.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var y,b,w=e.dom,C=e.util,S=e.DomRange,_=e.WrappedRange,x=e.DOMException,T=w.DomPosition,D=e.util.isHostMethod(window,"getSelection"),E=e.util.isHostObject(document,"selection"),N=E&&(!D||e.config.preferTextRange);N?(y=o,e.isSelectionValid=function(e){var t=(e||window).document,n=t.selection;return"None"!=n.type||w.getDocument(n.createRange().parentElement())==t}):D?(y=n,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=y;var A=y(),R=e.createNativeRange(document),I=w.getBody(document),O=C.areHostObjects(A,["anchorNode","focusNode"]&&C.areHostProperties(A,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=O;var k=C.isHostMethod(A,"extend");e.features.selectionHasExtend=k;var L="number"==typeof A.rangeCount;e.features.selectionHasRangeCount=L;var $=!1,P=!0;C.areHostMethods(A,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof A.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");I.appendChild(e);var t=w.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var n=w.getIframeWindow(e).getSelection(),o=t.documentElement,r=o.lastChild,i=r.firstChild,a=t.createRange();a.setStart(i,1),a.collapse(!0),n.addRange(a),P=1==n.rangeCount,n.removeAllRanges();var s=a.cloneRange();a.setStart(i,0),s.setEnd(i,2),n.addRange(a),n.addRange(s),$=2==n.rangeCount,a.detach(),s.detach(),I.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=$,e.features.collapsedNonEditableSelectionsSupported=P;var M,H=!1;I&&C.isHostMethod(I,"createControlRange")&&(M=I.createControlRange(),C.areHostProperties(M,["item","add"])&&(H=!0)),e.features.implementsControlRange=H,b=O?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var j;C.isHostMethod(A,"getRangeAt")?j=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:O&&(j=function(t){var n=w.getDocument(t.anchorNode),o=e.createRange(n);return o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(t.focusNode,t.focusOffset),o.collapsed!==this.isCollapsed&&(o.setStart(t.focusNode,t.focusOffset),o.setEnd(t.anchorNode,t.anchorOffset)),o}),e.getSelection=function(e){e=e||window;var t=e._rangySelection,n=y(e),r=E?o(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh(e)):(t=new p(n,r,e),e._rangySelection=t),t},e.getIframeSelection=function(t){return e.getSelection(w.getIframeWindow(t))};var B=p.prototype;if(!N&&O&&C.areHostMethods(A,["removeAllRanges","addRange"])){B.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),a(this)};var F=function(t,n){var o=S.getRangeDocument(n),r=e.createRange(o);r.collapseToPoint(n.endContainer,n.endOffset),t.nativeSelection.addRange(s(r)),t.nativeSelection.extend(n.startContainer,n.startOffset),t.refresh()};B.addRange=L?function(t,n){if(H&&E&&"Control"==this.docSelection.type)f(this,t);else if(n&&k)F(this,t);else{var o;if($?o=this.rangeCount:(this.removeAllRanges(),o=0),this.nativeSelection.addRange(s(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(e.config.checkSelectionRanges){var i=j(this.nativeSelection,this.rangeCount-1);i&&!S.rangesEqual(i,t)&&(t=new _(i))}this._ranges[this.rangeCount-1]=t,r(this,t,W(this.nativeSelection)),this.isCollapsed=b(this)}else this.refresh()}}:function(e,t){t&&k?F(this,e):(this.nativeSelection.addRange(s(e)),this.refresh())},B.setRanges=function(e){if(H&&e.length>1)m(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(C.isHostMethod(A,"empty")&&C.isHostMethod(R,"select")&&H&&N))return t.fail("No means of selecting a Range or TextRange was found"),!1;B.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=w.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=w.getDocument(t.item(0)).body.createTextRange())}if(e){e.body.createTextRange().select(),this.docSelection.empty()}}}catch(e){}a(this)},B.addRange=function(e){"Control"==this.docSelection.type?f(this,e):(_.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,r(this,e,!1))},B.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?m(this,e):t&&this.addRange(e[0])}}B.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new x("INDEX_SIZE_ERR");return this._ranges[e]};var q;if(N)q=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=w.getBody(t.win.document).createTextRange(),n.collapse(!0)),"Control"==t.docSelection.type?h(t):u(n)?d(t,n):a(t)};else if(C.isHostMethod(A,"getRangeAt")&&"number"==typeof A.rangeCount)q=function(t){if(H&&E&&"Control"==t.docSelection.type)h(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,o=t.rangeCount;n<o;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));r(t,t._ranges[t.rangeCount-1],W(t.nativeSelection)),t.isCollapsed=b(t)}else a(t)};else{if(!O||"boolean"!=typeof A.isCollapsed||"boolean"!=typeof R.collapsed||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;q=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=j(n,0),e._ranges=[t],e.rangeCount=1,i(e),e.isCollapsed=b(e)):a(e)}}B.refresh=function(e){var t=e?this._ranges.slice(0):null;if(q(this),e){var n=t.length;if(n!=this._ranges.length)return!1;for(;n--;)if(!S.rangesEqual(t[n],this._ranges[n]))return!1;return!0}};var U=function(e,t){var n=e.getAllRanges(),o=!1;e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)o||t!==n[r]?e.addRange(n[r]):o=!0;e.rangeCount||a(e)};B.removeRange=H?function(e){if("Control"==this.docSelection.type){for(var t,n=this.docSelection.createRange(),o=c(e),r=w.getDocument(n.item(0)),i=w.getBody(r).createControlRange(),a=!1,s=0,l=n.length;s<l;++s)t=n.item(s),t!==o||a?i.add(n.item(s)):a=!0;i.select(),h(this)}else U(this,e)}:function(e){U(this,e)};var W;!N&&O&&e.features.implementsDomRange?(W=function(e){var t=!1;return e.anchorNode&&(t=1==w.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},B.isBackwards=function(){return W(this)}):W=B.isBackwards=function(){return!1},B.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},B.collapse=function(t,n){g(this,t);var o=e.createRange(w.getDocument(t));o.collapseToPoint(t,n),this.removeAllRanges(),this.addRange(o),this.isCollapsed=!0},B.collapseToStart=function(){if(!this.rangeCount)throw new x("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},B.collapseToEnd=function(){if(!this.rangeCount)throw new x("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},B.selectAllChildren=function(t){g(this,t);var n=e.createRange(w.getDocument(t));n.selectNodeContents(t),this.removeAllRanges(),this.addRange(n)},B.deleteFromDocument=function(){if(H&&E&&"Control"==this.docSelection.type){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();this.removeAllRanges();for(var o=0,r=n.length;o<r;++o)n[o].deleteContents();this.addRange(n[r-1])}},B.getAllRanges=function(){return this._ranges.slice(0)},B.setSingleRange=function(e){this.setRanges([e])},B.containsNode=function(e,t){for(var n=0,o=this._ranges.length;n<o;++n)if(this._ranges[n].containsNode(e,t))return!0;return!1},B.toHtml=function(){var e="";if(this.rangeCount){for(var t=S.getRangeDocument(this._ranges[0]).createElement("div"),n=0,o=this._ranges.length;n<o;++n)t.appendChild(this._ranges[n].cloneContents());e=t.innerHTML}return e},B.getName=function(){return"WrappedSelection"},B.inspect=function(){return v(this)},B.detach=function(){this.win._rangySelection=null,this.win=this.anchorNode=this.focusNode=null},p.inspect=v,e.Selection=p,e.selectionPrototype=B,e.addCreateMissingNativeApiListener(function(t){void 0===t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})});var Base=function(){};Base.extend=function(e,t){var n=Base.prototype.extend;Base._prototyping=!0;var o=new this;n.call(o,e),o.base=function(){},delete Base._prototyping;var r=o.constructor,i=o.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==i)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],o)};return i.ancestor=this,i.extend=this.extend,i.forEach=this.forEach,i.implement=this.implement,i.prototype=o,i.toString=this.toString,i.valueOf=function(e){return"object"==e?i:r.valueOf()},n.call(i,t),"function"==typeof i.init&&i.init(),i},Base.prototype={extend:function(e,t){if(arguments.length>1){var n=this[e];if(n&&"function"==typeof t&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var o=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=o.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:o},t.toString=Base.toString}this[e]=t}else if(e){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var i={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)e[l]!=i[l]&&r.call(this,l,e[l]);for(var l in e)i[l]||r.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var o in e)void 0===this.prototype[o]&&t.call(n,e[o],o,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e){return(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var t=navigator.userAgent,n=document.createElement("div"),o=t.indexOf("MSIE")!==-1&&t.indexOf("Opera")===-1,r=t.indexOf("Gecko")!==-1&&t.indexOf("KHTML")===-1,i=t.indexOf("AppleWebKit/")!==-1,a=t.indexOf("Chrome/")!==-1,s=t.indexOf("Opera/")!==-1;return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),o="contentEditable"in n,r=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,i=document.querySelector&&document.querySelectorAll,a=this.isIos()&&e(t)<5||t.indexOf("opera mobi")!==-1||t.indexOf("hpwos/")!==-1;return o&&r&&i&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var e=this.USER_AGENT.toLowerCase();return e.indexOf("webkit")!==-1&&e.indexOf("mobile")!==-1},supportsSandboxedIframes:function(){return o},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!r},hasCurrentStyleProperty:function(){return"currentStyle"in n},insertsLineBreaksOnReturn:function(){return r},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in n||function(){return n.setAttribute("on"+e,"return;"),"function"==typeof n["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!s},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return i||r},supportsDataTransfer:function(){try{return i&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(e){return!1}},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:function(){var e={formatBlock:o,insertUnorderedList:o||s||i,insertOrderedList:o||s||i},t={insertHTML:r};return function(n,o){if(!e[o]){try{return n.queryCommandSupported(o)}catch(e){}try{return n.queryCommandEnabled(o)}catch(e){return!!t[o]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return o},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return r||s||i},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return r||o||s},clearsListsInContentEditableCorrectly:function(){return r||o||i},autoScrollsToCaret:function(){return!i},autoClosesUnclosedTags:function(){var e,t,o=n.cloneNode(!1);return o.innerHTML="<p><div></div>",t=o.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return String(document.getElementsByClassName).indexOf("[native code]")!==-1},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in n},needsSpaceAfterLineBreak:function(){return s},supportsSpeechApiOn:function(e){return(t.match(/Chrome\/(\d+)/)||[,0])[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return o&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return o},hasProblemsSettingCaretAfterImg:function(){return o},hasUndoInContextMenu:function(){return r||a||s}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(e.indexOf)return e.indexOf(t)!==-1;for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return!0;return!1},without:function(t){t=wysihtml5.lang.array(t);for(var n=[],o=0,r=e.length;o<r;o++)t.contains(e[o])||n.push(e[o]);return n},get:function(){for(var t=0,n=e.length,o=[];t<n;t++)o.push(e[t]);return o}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],o=0;o<n.length;o++)n[o].call(this,t);return this},stopObserving:function(e,t){this.events=this.events||{};var n,o,r=0;if(e){for(n=this.events[e]||[],o=[];r<n.length;r++)n[r]!==t&&t&&o.push(n[r]);this.events[e]=o}else this.events={};return this}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var n in t)e[n]=t[n];return this},get:function(){return e},clone:function(){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){wysihtml5.lang.string=function(e){return e=String(e),{trim:function(){return e.replace(/^\s+/,"").replace(/\s+$/,"")},interpolate:function(t){for(var n in t)e=this.replace("#{"+n+"}").by(t[n]);return e},replace:function(t){return{by:function(n){return e.split(t).join(n)}}}}}}(),function(e){function t(e){return i(e)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),a(e))}function n(e){return e.replace(l,function(e,t){var n=(t.match(c)||[])[1]||"",o=d[n];t=t.replace(c,""),t.split(o).length>t.split(n).length&&(t+=n,n="");var r=t,i=t;return t.length>u&&(i=i.substr(0,u)+"..."),"www."===r.substr(0,4)&&(r="http://"+r),'<a href="'+r+'">'+i+"</a>"+n})}function o(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function r(e){var t=e.parentNode,r=o(t.ownerDocument);for(r.innerHTML="<span></span>"+n(e.data),r.removeChild(r.firstChild);r.firstChild;)t.insertBefore(r.firstChild,e);t.removeChild(e)}function i(e){for(var t;e.parentNode;){if(e=e.parentNode,t=e.nodeName,s.contains(t))return!0;if("body"===t)return!1}return!1}function a(t){if(!s.contains(t.nodeName)){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return void r(t);for(var n=e.lang.array(t.childNodes).get(),o=n.length,i=0;i<o;i++)a(n[i]);return t}}var s=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,u=100,d={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.browser.supportsClassList(),n=e.dom;n.addClass=function(e,o){if(t)return e.classList.add(o);n.hasClass(e,o)||(e.className+=" "+o)},
n.removeClass=function(e,n){if(t)return e.classList.remove(n);e.className=e.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ")},n.hasClass=function(e,n){if(t)return e.classList.contains(n);var o=e.className;return o.length>0&&(o==n||new RegExp("(^|\\s)"+n+"(\\s|$)").test(o))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var n=e.createElement("li");return t.appendChild(n),n}function t(e,t){return e.createElement(t)}function n(n,o){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var r,i,a,s,l,c,u,d,h,f=n.ownerDocument,p=t(f,o),m=n.querySelectorAll("br"),g=m.length;for(h=0;h<g;h++)for(s=m[h];(l=s.parentNode)&&l!==n&&l.lastChild===s;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(s);break}wysihtml5.dom.insert(s).after(s.parentNode)}for(r=wysihtml5.lang.array(n.childNodes).get(),i=r.length,h=0;h<i;h++)d=d||e(f,p),a=r[h],c="block"===wysihtml5.dom.getStyle("display").from(a),u="BR"===a.nodeName,c?(d=d.firstChild?e(f,p):d,d.appendChild(a),d=null):u?d=d.firstChild?null:d:d.appendChild(a);return n.parentNode.replaceChild(p,n),p}return n}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(n){for(var o,r=0,i=e.length;r<i;r++)o=e[r],void 0!==t[o]&&""!==t[o]&&(n[o]=t[o]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(t){return!!o(t)&&parseInt(e.getStyle("width").from(t),10)<t.offsetWidth},o=function(n){for(var o=0,r=t.length;o<r;o++)if("border-box"===e.getStyle(t[o]).from(n))return t[o]};e.copyStyles=function(o){return{from:function(r){n(r)&&(o=wysihtml5.lang.array(o).without(t));for(var i,a="",s=o.length,l=0;l<s;l++)i=o[l],a+=i+":"+e.getStyle(i).from(r)+";";return{to:function(t){return e.setStyles(a).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,n,o,r){return e.dom.observe(t,o,function(o){for(var i=o.target,a=e.lang.array(t.querySelectorAll(n));i&&i!==t;){if(a.contains(i)){r.call(i,o);break}i=i.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(e){}return t.body.removeChild(n),n},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,o=n.length;t<o;t++)e.createElement(n[t]);e._wysihtml5_supportsHTML5Tags=!0}},n=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(n,o){o=o||document;var r;return"object"==typeof n&&n.nodeType?(r=o.createElement("div"),r.appendChild(n)):wysihtml5.browser.supportsHTML5Tags(o)?(r=o.createElement("div"),r.innerHTML=n):(t(o),r=e(n,o)),r}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return!t||!t.length||("string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e))}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function n(e,t,n){var o=(e.className||"").match(n)||[];return t?o[o.length-1]===t:!!o.length}function o(t,n,o){for(;o--&&t&&"BODY"!==t.nodeName;){if(e(t.nodeName,n))return t;t=t.parentNode}return null}function r(o,r,i,a,s){for(;s--&&o&&"BODY"!==o.nodeName;){if(t(o)&&e(o.nodeName,r)&&n(o,i,a))return o;o=o.parentNode}return null}return function(e,t,n){return n=n||50,t.className||t.classRegExp?r(e,t.nodeName,t.className,t.classRegExp,n):o(e,t.nodeName,n)}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(n,function(e){return e.charAt(1).toUpperCase()})}var t={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(o){if(o.nodeType===wysihtml5.ELEMENT_NODE){var r=o.ownerDocument,i=t[n]||e(n),a=o.style,s=o.currentStyle,l=a[i];if(l)return l;if(s)try{return s[i]}catch(e){}var c,u,d=r.defaultView||r.parentWindow,h=("height"===n||"width"===n)&&"TEXTAREA"===o.nodeName;return d.getComputedStyle?(h&&(c=a.overflow,a.overflow="hidden"),u=d.getComputedStyle(o,null).getPropertyValue(n),h&&(a.overflow=c||""),u):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var t={},n=1;return function(n,o){var r=e(n)+":"+o,i=t[r];return i||(i=t[r]=n.getElementsByTagName(o)),i.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=o++)}var n={},o=1;e.dom.hasElementWithClassName=function(o,r){if(!e.browser.supportsNativeGetElementsByClassName())return!!o.querySelector("."+r);var i=t(o)+":"+r,a=n[i];return a||(a=n[i]=o.getElementsByClassName(r)),a.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var n=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),n&&n.appendChild(o)}}},wysihtml5.dom.observe=function(e,t,n){t="string"==typeof t?[t]:t;for(var o,r,i=0,a=t.length;i<a;i++)r=t[i],e.addEventListener?e.addEventListener(r,n,!1):(o=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+r,o));return{stop:function(){for(var r,i=0,a=t.length;i<a;i++)r=t[i],e.removeEventListener?e.removeEventListener(r,n,!1):e.detachEvent("on"+r,o)}}},wysihtml5.dom.parse=function(){function e(e,n,o,r){wysihtml5.lang.object(d).merge(u).merge(n).get(),o=o||e.ownerDocument||document;var i,a,s,l=o.createDocumentFragment(),c="string"==typeof e;for(i=c?wysihtml5.dom.getAsDom(e,o):e;i.firstChild;)s=i.firstChild,i.removeChild(s),(a=t(s,r))&&l.appendChild(a);return i.innerHTML="",i.appendChild(l),c?wysihtml5.quirks.getCorrectInnerHTML(i):i}function t(e,n){var o,r=e.nodeType,i=e.childNodes,a=i.length,c=s[r],u=0;if(!(o=c&&c(e)))return null;for(u=0;u<a;u++)newChild=t(i[u],n),newChild&&o.appendChild(newChild);return n&&o.childNodes.length<=1&&o.nodeName.toLowerCase()===l&&!o.attributes.length?o.firstChild:o}function n(e){var t,n,r=d.tags,i=e.nodeName.toLowerCase(),a=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(a&&"HTML"!=a&&(i=a+":"+i),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(i="div")),i in r){if(!(t=r[i])||t.remove)return null;t="string"==typeof t?{rename_tag:t}:t}else{if(!e.firstChild)return null;t={rename_tag:l}}return n=e.ownerDocument.createElement(t.rename_tag||i),o(e,n,t),e=null,n}function o(e,t,n){var o,i,a,s,l,u,h,m={},g=n.set_class,v=n.add_class,y=n.set_attributes,b=n.check_attributes,w=d.classes,C=0,S=[],_=[],x=[],T=[];if(y&&(m=wysihtml5.lang.object(y).clone()),b)for(l in b)(h=f[b[l]])&&"string"==typeof(u=h(r(e,l)))&&(m[l]=u);if(g&&S.push(g),v)for(l in v)(h=p[v[l]])&&"string"==typeof(s=h(r(e,l)))&&S.push(s);for(w["_wysihtml5-temp-placeholder"]=1,T=e.getAttribute("class"),T&&(S=S.concat(T.split(c))),o=S.length;C<o;C++)a=S[C],w[a]&&_.push(a);for(i=_.length;i--;)a=_[i],wysihtml5.lang.array(x).contains(a)||x.unshift(a);x.length&&(m.class=x.join(" "));for(l in m)try{t.setAttribute(l,m[l])}catch(e){}m.src&&(void 0!==m.width&&t.setAttribute("width",m.width),void 0!==m.height&&t.setAttribute("height",m.height))}function r(e,t){if(t=t.toLowerCase(),"IMG"==e.nodeName&&"src"==t&&i(e)===!0)return e.src;if(h&&"outerHTML"in e){return e.outerHTML.toLowerCase().indexOf(" "+t+"=")!=-1?e.getAttribute(t):null}return e.getAttribute(t)}function i(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}function a(e){return e.ownerDocument.createTextNode(e.data)}var s={1:n,3:a},l="span",c=/\s+/,u={tags:{},classes:{}},d={},h=!wysihtml5.browser.supportsGetAttributeCorrectly(),f={url:function(){return function(e){return e&&e.match(/^https?:\/\//i)?e.replace(/^https?:\/\//i,function(e){return e.toLowerCase()}):null}}(),alt:function(){return function(e){return e?e.replace(/[^ a-z0-9_\-]/gi,""):""}}(),numbers:function(){return function(e){return(e=(e||"").replace(/\D/g,""))||null}}()},p={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()};return e}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),o=n.length,r=0;r<o;r++)t=n[r],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,o=e.ownerDocument.createElement(t);n=e.firstChild;)o.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(o),e.parentNode.replaceChild(o,e),o},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function n(e){return"BR"===e.nodeName}function o(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function r(e){if("MENU"===e.nodeName||"UL"===e.nodeName||"OL"===e.nodeName){var r,i,a,s,l,c=e.ownerDocument,u=c.createDocumentFragment(),d=e.previousElementSibling||e.previousSibling;for(d&&!t(d)&&o(u);l=e.firstChild;){for(i=l.lastChild;r=l.firstChild;)a=r===i,s=a&&!t(r)&&!n(r),u.appendChild(r),s&&o(u);l.parentNode.removeChild(l)}e.parentNode.replaceChild(u,e)}}e.resolveList=r}(wysihtml5.dom),function(e){var t=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],o=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],r=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.iframe=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,o=t.createElement("iframe");return o.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(o),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(o.src="javascript:'<html></html>'"),o.onload=function(){o.onreadystatechange=o.onload=null,n._onLoadIframe(o)},o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=o.onload=null,n._onLoadIframe(o))},o},_onLoadIframe:function(i){if(e.dom.contains(t.documentElement,i)){var a=this,s=i.contentWindow,l=i.contentWindow.document,c=t.characterSet||t.charset||"utf-8",u=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(u),l.close(),this.getWindow=function(){return i.contentWindow},this.getDocument=function(){return i.contentWindow.document},s.onerror=function(e,t,n){throw new Error("wysihtml5.Sandbox: "+e,t,n)},!e.browser.supportsSandboxedIframes()){var d,h;for(d=0,h=n.length;d<h;d++)this._unset(s,n[d]);for(d=0,h=o.length;d<h;d++)this._unset(s,o[d],e.EMPTY_FUNCTION);for(d=0,h=r.length;d<h;d++)this._unset(l,r[d]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){a.callback(a)},0)}},_getHtml:function(t){var n,o=t.stylesheets,r="",i=0;if(o="string"==typeof o?[o]:o)for(n=o.length;i<n;i++)r+='<link rel="stylesheet" href="'+o[i]+'">';return t.stylesheets=r,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,n,o,r){try{t[n]=o}catch(e){}try{t.__defineGetter__(n,function(){return o})}catch(e){}if(r)try{t.__defineSetter__(n,function(){})}catch(e){}if(!e.browser.crashesWhenDefineProperty(n))try{var i={get:function(){return o}};r&&(i.set=function(){}),Object.defineProperty(t,n,i)}catch(e){}}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(n){for(var o in t)n.setAttribute(e[o]||o,t[o])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var n=t.style;if("string"==typeof e)return void(n.cssText+=";"+e);for(var o in e)"float"===o?(n.cssFloat=e[o],n.styleFloat=e[o]):n[o]=e[o]}}},function(e){e.simulatePlaceholder=function(t,n,o){var r=function(){n.hasPlaceholderSet()&&n.clear(),e.removeClass(n.element,"placeholder")},i=function(){n.isEmpty()&&(n.setValue(o),e.addClass(n.element,"placeholder"))};t.observe("set_placeholder",i).observe("unset_placeholder",r).observe("focus:composer",r).observe("paste:composer",r).observe("blur:composer",i),i()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function e(e,n,o){n=n||t,o=o||e.ownerDocument||document;var r,i,a,s,l,c="string"==typeof e,u=0;r=c?wysihtml5.dom.getAsDom(e,o):e;for(l in n)for(a=r.querySelectorAll(l),i=n[l],s=a.length;u<s;u++)i(a[u]);return a=e=n=null,c?r.innerHTML:r}var t={"a u":wysihtml5.dom.replaceWithChildNodes};return e}(),function(e){var t=e.dom;e.quirks.ensureProperClearing=function(){var e=function(e){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)};return function(n){t.observe(n.element,["cut","keydown"],e)}}(),e.quirks.ensureProperClearingOfLists=function(){var n=["OL","UL","MENU"],o=function(o,r){if(r.firstChild&&e.lang.array(n).contains(r.firstChild.nodeName)){var i=t.getParentElement(o,{nodeName:n});if(i){if(i==r.firstChild){if(i.childNodes.length<=1){(!i.firstChild||""===i.firstChild.innerHTML)&&i.parentNode.removeChild(i)}}}}};return function(n){t.observe(n.element,"keydown",function(t){if(t.keyCode===e.BACKSPACE_KEY){o(n.selection.getSelectedNode(),n.element)}})}}()}(wysihtml5),function(e){e.quirks.getCorrectInnerHTML=function(t){var n=t.innerHTML;if(n.indexOf("%7E")===-1)return n;var o,r,i,a,s=t.querySelectorAll("[href*='~'], [src*='~']");for(a=0,i=s.length;a<i;a++)o=s[a].href||s[a].src,r=e.lang.string(o).replace("~").by("%7E"),n=e.lang.string(n).replace(r).by(o);return n}}(wysihtml5),function(e){var t=e.dom,n=["LI","P","H1","H2","H3","H4","H5","H6"],o=["UL","OL","MENU"];e.quirks.insertLineBreakOnReturn=function(r){function i(n){var o=t.getParentElement(n,{nodeName:["P","DIV"]},2);if(o){var i=document.createTextNode(e.INVISIBLE_SPACE);t.insert(i).before(o),t.replaceWithChildNodes(o),r.selection.selectNode(i)}}function a(a){var s=a.keyCode;if(!(a.shiftKey||s!==e.ENTER_KEY&&s!==e.BACKSPACE_KEY)){var l=(a.target,r.selection.getSelectedNode()),c=t.getParentElement(l,{nodeName:n},4);if(c)return void("LI"!==c.nodeName||s!==e.ENTER_KEY&&s!==e.BACKSPACE_KEY?c.nodeName.match(/H[1-6]/)&&s===e.ENTER_KEY&&setTimeout(function(){i(r.selection.getSelectedNode())},0):setTimeout(function(){var e=r.selection.getSelectedNode();e&&(t.getParentElement(e,{nodeName:o},2)||i(e))},0));s!==e.ENTER_KEY||e.browser.insertsLineBreaksOnReturn()||(r.commands.exec("insertLineBreak"),a.preventDefault())}}t.observe(r.element.ownerDocument,"keydown",a)}}(wysihtml5),function(e){e.quirks.redraw=function(t){e.dom.addClass(t,"wysihtml5-quirks-redraw"),e.dom.removeClass(t,"wysihtml5-quirks-redraw");try{var n=t.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t}var n=e.dom;e.Selection=Base.extend({constructor:function(e){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},getBookmark:function(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t){var o=rangy.createRange(this.doc),r=t.nodeType===e.ELEMENT_NODE,i="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,a=r?t.innerHTML:t.data,s=""===a||a===e.INVISIBLE_SPACE,l=n.getStyle("display").from(t),c="block"===l||"list-item"===l;if(s&&r&&i)try{t.innerHTML=e.INVISIBLE_SPACE}catch(e){}i?o.selectNodeContents(t):o.selectNode(t),i&&s&&r?o.collapse(c):i&&s&&(o.setStartAfter(t),o.setEndAfter(t)),this.setSelection(o)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange())&&n.length?n.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc),n?n.commonAncestorContainer:this.doc.body))},executeAndRestore:function(t,n){var o,r=this.doc.body,i=n&&r.scrollTop,a=n&&r.scrollLeft,s='<span class="_wysihtml5-temp-placeholder">'+e.INVISIBLE_SPACE+"</span>",l=this.getRange(this.doc);if(!l)return void t(r,r);var c=l.createContextualFragment(s);l.insertNode(c);try{t(l.startContainer,l.endContainer)}catch(e){setTimeout(function(){throw e},0)}caretPlaceholder=this.doc.querySelector("._wysihtml5-temp-placeholder"),caretPlaceholder?(o=rangy.createRange(this.doc),o.selectNode(caretPlaceholder),o.deleteContents(),this.setSelection(o)):r.focus(),n&&(r.scrollTop=i,r.scrollLeft=a);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(e){}},executeAndRestoreSimple:function(e){var t,n,o,r,i,a=this.getRange(),s=this.doc.body;if(!a)return void e(s,s);r=a.getNodes([3]),n=r[0]||a.startContainer,o=r[r.length-1]||a.endContainer,i={collapsed:a.collapsed,startContainer:n,startOffset:n===a.startContainer?a.startOffset:0,endContainer:o,endOffset:o===a.endContainer?a.endOffset:o.length};try{e(a.startContainer,a.endContainer)}catch(e){setTimeout(function(){throw e},0)}t=rangy.createRange(this.doc);try{t.setStart(i.startContainer,i.startOffset)}catch(e){}try{t.setEnd(i.endContainer,i.endOffset)}catch(e){}try{this.setSelection(t)}catch(e){}},insertHTML:function(e){var t=rangy.createRange(this.doc),n=t.createContextualFragment(e),o=n.lastChild;this.insertNode(n),o&&this.setAfter(o)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t=this.getRange();if(t)try{t.surroundContents(e),this.selectNode(e)}catch(n){e.appendChild(t.extractContents()),t.insertNode(e)}},scrollIntoView:function(){var n,o=this.doc,r=o.documentElement.scrollHeight>o.documentElement.offsetHeight,i=o._wysihtml5ScrollIntoViewElement=o._wysihtml5ScrollIntoViewElement||function(){var t=o.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();r&&(this.insertNode(i),n=t(i),i.parentNode.removeChild(i),n>o.body.scrollTop&&(o.body.scrollTop=n))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,n,o,r,i=this.doc.selection.createRange(),a=i.boundingTop,s=(i.boundingHeight,this.doc.body.scrollWidth);if(i.moveToPoint){for(0===a&&(n=this.doc.createElement("span"),this.insertNode(n),a=n.offsetTop,n.parentNode.removeChild(n)),a+=1,o=-10;o<s;o+=2)try{i.moveToPoint(o,a);break}catch(e){}for(e=a,t=this.doc.selection.createRange(),r=s;r>=0;r--)try{t.moveToPoint(r,e);break}catch(e){}i.setEndPoint("EndToEnd",t),i.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes([e],t):[]},getRange:function(){var e=this.getSelection();return e&&e.rangeCount&&e.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow;return rangy.getSelection(t).setSingleRange(e)}})}(wysihtml5),function(e,t){function n(e,t,n){if(!e.className)return!1;var o=e.className.match(n)||[];return o[o.length-1]===t}function o(e,t,n){e.className?(r(e,n),e.className+=" "+t):e.className=t}function r(e,t){e.className&&(e.className=e.className.replace(t,""))}function i(e,t){return e.className.replace(f," ")==t.className.replace(f," ")}function a(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function s(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,o,r,i=0,a=e.attributes.length;i<a;++i)if(n=e.attributes[i],"class"!=(r=n.name)){if(o=t.attributes.getNamedItem(r),n.specified!=o.specified)return!1;if(n.specified&&n.nodeValue!==o.nodeValue)return!1}return!0}function l(e,n){return t.dom.isCharacterDataNode(e)?0==n?!!e.previousSibling:n!=e.length||!!e.nextSibling:n>0&&n<e.childNodes.length}function c(e,n,o){var r;if(t.dom.isCharacterDataNode(n)&&(0==o?(o=t.dom.getNodeIndex(n),n=n.parentNode):o==n.length?(o=t.dom.getNodeIndex(n)+1,n=n.parentNode):r=t.dom.splitDataNode(n,o)),!r){r=n.cloneNode(!1),r.id&&r.removeAttribute("id");for(var i;i=n.childNodes[o];)r.appendChild(i);t.dom.insertAfter(r,n)}return n==e?r:c(e,r.parentNode,t.dom.getNodeIndex(r))}function u(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function d(e,t,n,o){this.tagNames=e||[h],this.cssClass=t||"",this.similarClassRegExp=n,this.normalize=o,this.applyToAnyTagName=!1}var h="span",f=/\s+/g;u.prototype={doMerge:function(){for(var e,t,n,o=[],r=0,i=this.textNodes.length;r<i;++r)e=this.textNodes[r],t=e.parentNode,o[r]=e.data,r&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=o.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,n=this.textNodes.length;t<n;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},d.prototype={getAncestorWithClass:function(o){for(var r;o;){if(r=!this.cssClass||n(o,this.cssClass,this.similarClassRegExp),o.nodeType==e.ELEMENT_NODE&&t.dom.arrayContains(this.tagNames,o.tagName.toLowerCase())&&r)return o;o=o.parentNode}return!1},postApply:function(e,t){for(var n,o,r,i=e[0],a=e[e.length-1],s=[],l=i,c=a,d=0,h=a.length,f=0,p=e.length;f<p;++f)o=e[f],r=this.getAdjacentMergeableTextNode(o.parentNode,!1),r?(n||(n=new u(r),s.push(n)),n.textNodes.push(o),o===i&&(l=n.firstTextNode,d=l.length),o===a&&(c=n.firstTextNode,h=n.getLength())):n=null;var m=this.getAdjacentMergeableTextNode(a.parentNode,!0);if(m&&(n||(n=new u(a),s.push(n)),n.textNodes.push(m)),s.length){for(f=0,p=s.length;f<p;++f)s[f].doMerge();t.setStart(l,d),t.setEnd(c,h)}},getAdjacentMergeableTextNode:function(t,n){var o,r=t.nodeType==e.TEXT_NODE,i=r?t.parentNode:t,a=n?"nextSibling":"previousSibling";if(r){if((o=t[a])&&o.nodeType==e.TEXT_NODE)return o}else if((o=i[a])&&this.areElementsMergeable(t,o))return o[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,n){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&i(e,n)&&s(e,n)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(e){var n=e.parentNode;if(1==n.childNodes.length&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&o(n,this.cssClass,this.similarClassRegExp);else{var r=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(r,e),r.appendChild(e)}},isRemovable:function(n){return t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&e.lang.string(n.className).trim()==this.cssClass},undoToTextNode:function(e,t,n){if(!t.containsNode(n)){var o=t.cloneRange();o.selectNode(n),o.isPointInRange(t.endContainer,t.endOffset)&&l(t.endContainer,t.endOffset)&&(c(n,t.endContainer,t.endOffset),t.setEndAfter(n)),o.isPointInRange(t.startContainer,t.startOffset)&&l(t.startContainer,t.startOffset)&&(n=c(n,t.startContainer,t.startOffset))}this.similarClassRegExp&&r(n,this.similarClassRegExp),this.isRemovable(n)&&a(n)},applyToRange:function(t){var n=t.getNodes([e.TEXT_NODE]);if(!n.length)try{var o=this.createContainer(t.endContainer.ownerDocument);return t.surroundContents(o),void this.selectNode(t,o)}catch(e){}if(t.splitBoundaries(),n=t.getNodes([e.TEXT_NODE]),n.length){for(var r,i=0,a=n.length;i<a;++i)r=n[i],this.getAncestorWithClass(r)||this.applyToTextNode(r);t.setStart(n[0],0),r=n[n.length-1],t.setEnd(r,r.length),this.normalize&&this.postApply(n,t)}},undoToRange:function(t){var n,o,r=t.getNodes([e.TEXT_NODE]);if(r.length)t.splitBoundaries(),r=t.getNodes([e.TEXT_NODE]);else{var i=t.endContainer.ownerDocument,a=i.createTextNode(e.INVISIBLE_SPACE);t.insertNode(a),t.selectNode(a),r=[a]}for(var s=0,l=r.length;s<l;++s)n=r[s],(o=this.getAncestorWithClass(n))&&this.undoToTextNode(n,t,o);1==l?this.selectNode(t,r[0]):(t.setStart(r[0],0),n=r[r.length-1],t.setEnd(n,n.length),this.normalize&&this.postApply(r,t))},selectNode:function(t,n){var o=n.nodeType===e.ELEMENT_NODE,r=!("canHaveHTML"in n)||n.canHaveHTML,i=o?n.innerHTML:n.data,a=""===i||i===e.INVISIBLE_SPACE;if(a&&o&&r)try{n.innerHTML=e.INVISIBLE_SPACE}catch(e){}t.selectNodeContents(n),a&&o?t.collapse(!1):a&&(t.setStartAfter(n),t.setEndAfter(n))},getTextSelectedByRange:function(e,t){var n=t.cloneRange();n.selectNodeContents(e);var o=n.intersection(t),r=o?o.toString():"";return n.detach(),r},isAppliedToRange:function(t){var n,o=[],r=t.getNodes([e.TEXT_NODE]);if(!r.length)return!!(n=this.getAncestorWithClass(t.startContainer))&&[n];for(var i,a=0,s=r.length;a<s;++a){if(i=this.getTextSelectedByRange(r[a],t),n=this.getAncestorWithClass(r[a]),""!=i&&!n)return!1;o.push(n)}return o},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)}},e.selection.HTMLApplier=d}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],o=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,i=null;if(this.editor.fire("beforecommand:composer"),r)o.unshift(this.composer),i=r.apply(n,o);else try{i=this.doc.execCommand(e,!1,t)}catch(e){}return this.editor.fire("aftercommand:composer"),i},state:function(e,t){var n=wysihtml5.commands[e],o=wysihtml5.lang.array(arguments).get(),r=n&&n.state;if(r)return o.unshift(this.composer),r.apply(n,o);try{return this.doc.queryCommandState(e)}catch(e){return!1}},value:function(e){var t=wysihtml5.commands[e],n=t&&t.value;if(n)return n.call(t,this.composer,e);try{return this.doc.queryCommandValue(e)}catch(e){return null}}}),function(e){e.commands.bold={exec:function(t,n){return e.commands.formatInline.exec(t,n,"b")},state:function(t,n,o){return e.commands.formatInline.state(t,n,"b")},value:function(){}}}(wysihtml5),function(e){function t(e,t){for(var n,o,r,a=t.length,s=0;s<a;s++)n=t[s],o=i.getParentElement(n,{nodeName:"code"}),r=i.getTextContent(n),r.match(i.autoLink.URL_REG_EXP)&&!o?o=i.renameElement(n,"code"):i.replaceWithChildNodes(n)}function n(t,n){var a,s,l,c,u,d,h,f,p,m=t.doc,g="_wysihtml5-temp-"+ +new Date,v=0;for(e.commands.formatInline.exec(t,o,r,g,/non-matching-class/g),s=m.querySelectorAll(r+"."+g),a=s.length;v<a;v++){l=s[v],l.removeAttribute("class");for(p in n)l.setAttribute(p,n[p])}d=l,1===a&&(h=i.getTextContent(l),c=!!l.querySelector("*"),u=""===h||h===e.INVISIBLE_SPACE,!c&&u&&(i.setTextContent(l,n.text||l.href),f=m.createTextNode(" "),t.selection.setAfter(l),t.selection.insertNode(f),d=f)),t.selection.setAfter(d)}var o,r="A",i=e.dom;e.commands.createLink={exec:function(e,o,r){var i=this.state(e,o);i?e.selection.executeAndRestore(function(){t(e,i)}):(r="object"==typeof r?r:{href:r},n(e,r))},state:function(t,n){return e.commands.formatInline.state(t,n,"A")},value:function(){return o}}}(wysihtml5),function(e){var t=/wysiwyg-font-size-[a-z\-]+/g;e.commands.fontSize={exec:function(n,o,r){return e.commands.formatInline.exec(n,o,"span","wysiwyg-font-size-"+r,t)},state:function(n,o,r){return e.commands.formatInline.state(n,o,"span","wysiwyg-font-size-"+r,t)},value:function(){}}}(wysihtml5),function(e){e.commands.foreColor={exec:function(t,n,o){return e.commands.formatInline.exec(t,n,"span","wysiwyg-color-"+o,/wysiwyg-color-[a-z]+/g)},state:function(t,n,o){return e.commands.formatInline.state(t,n,"span","wysiwyg-color-"+o,/wysiwyg-color-[a-z]+/g)},value:function(){}}}(wysihtml5),function(e){function t(e,t,o){e.className?(n(e,o),e.className+=" "+t):e.className=t}function n(e,t){e.className=e.className.replace(t,"")}function o(t){return t.nodeType===e.TEXT_NODE&&!e.lang.string(t.data).trim()}function r(e){for(var t=e.previousSibling;t&&o(t);)t=t.previousSibling;return t}function i(e){for(var t=e.nextSibling;t&&o(t);)t=t.nextSibling;return t}function a(e){var t=e.ownerDocument,n=i(e),o=r(e);n&&!u(n)&&e.parentNode.insertBefore(t.createElement("br"),n),o&&!u(o)&&e.parentNode.insertBefore(t.createElement("br"),e)}function s(e){var t=i(e),n=r(e);t&&c(t)&&t.parentNode.removeChild(t),n&&c(n)&&n.parentNode.removeChild(n)}function l(e){var t=e.lastChild;t&&c(t)&&t.parentNode.removeChild(t)}function c(e){return"BR"===e.nodeName}function u(e){return!!c(e)||"block"===p.getStyle("display").from(e)}function d(t,n,o,r){if(r)var i=p.observe(t,"DOMNodeInserted",function(t){var n,o=t.target;o.nodeType===e.ELEMENT_NODE&&(n=p.getStyle("display").from(o),"inline"!==n.substr(0,6)&&(o.className+=" "+r))});t.execCommand(n,!1,o),i&&i.stop()}function h(e,t){e.selection.selectLine(),e.selection.surround(t),s(t),l(t),e.selection.selectNode(t)}function f(t){return!!e.lang.string(t.className).trim()}
var p=e.dom,m=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE","DIV"];e.commands.formatBlock={exec:function(o,r,i,s,l){var c,u=o.doc,g=this.state(o,r,i,s,l);return i="string"==typeof i?i.toUpperCase():i,g?void o.selection.executeAndRestoreSimple(function(){l&&n(g,l);var e=f(g);e||g.nodeName!==(i||"DIV")?e&&p.renameElement(g,"DIV"):(a(g),p.replaceWithChildNodes(g))}):(null===i||e.lang.array(m).contains(i))&&(c=o.selection.getSelectedNode(),g=p.getParentElement(c,{nodeName:m}))?void o.selection.executeAndRestoreSimple(function(){i&&(g=p.renameElement(g,i)),s&&t(g,s,l)}):o.commands.support(r)?void d(u,r,i||"DIV",s):(g=u.createElement(i||"DIV"),s&&(g.className=s),void h(o,g))},state:function(e,t,n,o,r){n="string"==typeof n?n.toUpperCase():n;var i=e.selection.getSelectedNode();return p.getParentElement(i,{nodeName:n,className:o,classRegExp:r})},value:function(){}}}(wysihtml5),function(e){function t(e){var t=o[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function n(n,o,i){var a=n+":"+o;return r[a]||(r[a]=new e.selection.HTMLApplier(t(n),o,i,!0)),r[a]}var o={strong:"b",em:"i",b:"strong",i:"em"},r={};e.commands.formatInline={exec:function(e,t,o,r,i){var a=e.selection.getRange();if(!a)return!1;n(o,r,i).toggleRange(a),e.selection.setSelection(a)},state:function(t,r,i,a,s){var l,c=t.doc,u=o[i]||i;return!(!e.dom.hasElementWithTagName(c,i)&&!e.dom.hasElementWithTagName(c,u))&&(!(a&&!e.dom.hasElementWithClassName(c,a))&&(!!(l=t.selection.getRange())&&n(i,a,s).isAppliedToRange(l)))},value:function(){}}}(wysihtml5),function(e){e.commands.insertHTML={exec:function(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n)},state:function(){return!1},value:function(){}}}(wysihtml5),function(e){e.commands.insertImage={exec:function(t,n,o){o="object"==typeof o?o:{src:o};var r,i,a,s=t.doc,l=this.state(t);if(l)return t.selection.setBefore(l),a=l.parentNode,a.removeChild(l),e.dom.removeEmptyTextNodes(a),"A"!==a.nodeName||a.firstChild||(t.selection.setAfter(a),a.parentNode.removeChild(a)),void e.quirks.redraw(t.element);l=s.createElement("IMG");for(i in o)l[i]=o[i];t.selection.insertNode(l),e.browser.hasProblemsSettingCaretAfterImg()?(r=s.createTextNode(e.INVISIBLE_SPACE),t.selection.insertNode(r),t.selection.setAfter(r)):t.selection.setAfter(l)},state:function(t){var n,o,r,i=t.doc;return!!e.dom.hasElementWithTagName(i,"IMG")&&(!!(n=t.selection.getSelectedNode())&&("IMG"===n.nodeName?n:n.nodeType===e.ELEMENT_NODE&&(o=t.selection.getText(),!(o=e.lang.string(o).trim())&&(r=t.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1===r.length&&r[0]))))},value:function(e){var t=this.state(e);return t&&t.src}}}(wysihtml5),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(n,o){n.commands.support(o)?(n.doc.execCommand(o,!1,null),e.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",t)},state:function(){return!1},value:function(){}}}(wysihtml5),function(e){e.commands.insertOrderedList={exec:function(t,n){var o,r,i=t.doc,a=t.selection.getSelectedNode(),s=e.dom.getParentElement(a,{nodeName:"OL"}),l=e.dom.getParentElement(a,{nodeName:"UL"}),c="_wysihtml5-temp-"+(new Date).getTime();if(t.commands.support(n))return void i.execCommand(n,!1,null);s?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(s)}):l?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(l,"ol")}):(t.commands.exec("formatBlock","div",c),r=i.querySelector("."+c),o=""===r.innerHTML||r.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){s=e.dom.convertToList(r,"ol")}),o&&t.selection.selectNode(s.querySelector("li")))},state:function(t){var n=t.selection.getSelectedNode();return e.dom.getParentElement(n,{nodeName:"OL"})},value:function(){}}}(wysihtml5),function(e){e.commands.insertUnorderedList={exec:function(t,n){var o,r,i=t.doc,a=t.selection.getSelectedNode(),s=e.dom.getParentElement(a,{nodeName:"UL"}),l=e.dom.getParentElement(a,{nodeName:"OL"}),c="_wysihtml5-temp-"+(new Date).getTime();if(t.commands.support(n))return void i.execCommand(n,!1,null);s?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(s)}):l?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(l,"ul")}):(t.commands.exec("formatBlock","div",c),r=i.querySelector("."+c),o=""===r.innerHTML||r.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){s=e.dom.convertToList(r,"ul")}),o&&t.selection.selectNode(s.querySelector("li")))},state:function(t){var n=t.selection.getSelectedNode();return e.dom.getParentElement(n,{nodeName:"UL"})},value:function(){}}}(wysihtml5),function(e){e.commands.italic={exec:function(t,n){return e.commands.formatInline.exec(t,n,"i")},state:function(t,n,o){return e.commands.formatInline.state(t,n,"i")},value:function(){}}}(wysihtml5),function(e){var t=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyCenter={exec:function(n,o){return e.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-center",t)},state:function(n,o){return e.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-center",t)},value:function(){}}}(wysihtml5),function(e){var t=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyLeft={exec:function(n,o){return e.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-left",t)},state:function(n,o){return e.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-left",t)},value:function(){}}}(wysihtml5),function(e){var t=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyRight={exec:function(n,o){return e.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-right",t)},state:function(n,o){return e.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-right",t)},value:function(){}}}(wysihtml5),function(e){e.commands.underline={exec:function(t,n){return e.commands.formatInline.exec(t,n,"u")},state:function(t,n){return e.commands.formatInline.state(t,n,"u")},value:function(){}}}(wysihtml5),function(e){function t(e){for(var t;t=e.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t)}var n='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",o='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",r=e.dom;e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var i,a=this,s=this.composer.sandbox.getDocument();if(r.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,n=90===t&&!e.shiftKey,o=90===t&&e.shiftKey||89===t;n?(a.undo(),e.preventDefault()):o&&(a.redo(),e.preventDefault())}}),r.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==i&&(i=t,8!==t&&46!==t||a.transact())}),e.browser.hasUndoInContextMenu()){var l,c,u=function(){t(s),clearInterval(l)};r.observe(this.element,"contextmenu",function(){u(),a.composer.selection.executeAndRestoreSimple(function(){a.element.lastChild&&a.composer.selection.setAfter(a.element.lastChild),s.execCommand("insertHTML",!1,n),s.execCommand("insertHTML",!1,o),s.execCommand("undo",!1,null)}),l=setInterval(function(){s.getElementById("_wysihtml5-redo")?(u(),a.redo()):s.getElementById("_wysihtml5-undo")||(u(),a.undo())},400),c||(c=!0,r.observe(document,"mousedown",u),r.observe(s,["mousedown","paste","cut","copy"],u))})}this.editor.observe("newword:composer",function(){a.transact()}).observe("beforecommand:composer",function(){a.transact()})},transact:function(){var e=this.history[this.position-1],t=this.composer.getValue();if(t!=e){(this.history.length=this.position)>40&&(this.history.shift(),this.position--),this.position++,this.history.push(t)}},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(e){this.composer.setValue(e),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,this.element=t,this.config=n,this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.observe("beforeload",function(){e.parent.observe("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,n=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,n){this.base(e,t,n),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t){var n=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t&&(n=this.parent.parse(n)),n=e.lang.string(n).replace(e.INVISIBLE_SPACE).by("")},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.innerHTML=e},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=t.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;t&&n&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var e=this.element.innerHTML;return""===e||e===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector("blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea")},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var n=document.createElement("input");n.type="hidden",n.name="_wysihtml5_mode",n.value=1;var o=this.textarea.element;t.insert(this.iframe).after(o),t.insert(n).after(o)},_create:function(){var o=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new e.Selection(this.parent),this.commands=new e.Commands(this.parent),t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var r=this.config.name;r&&(t.addClass(this.element,r),t.addClass(this.iframe,r));var i="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");i&&t.simulatePlaceholder(this.parent,this,i),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){o.focus()},100),e.quirks.insertLineBreakOnReturn(this),n.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),n.clearsListsInContentEditableCorrectly()||e.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var o=this,r=n.canDisableAutoLinking(),i=n.doesAutoLinkingInContentEditable();if(r&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!i||i&&r)&&this.parent.observe("newword:composer",function(){o.selection.executeAndRestore(function(e,n){t.autoLink(n.parentNode)})});var a=this.sandbox.getDocument().getElementsByTagName("a"),s=t.autoLink.URL_REG_EXP,l=function(n){var o=e.lang.string(t.getTextContent(n)).trim();return"www."===o.substr(0,4)&&(o="http://"+o),o};t.observe(this.element,"keydown",function(e){if(a.length){var n,r=o.selection.getSelectedNode(e.target.ownerDocument),i=t.getParentElement(r,{nodeName:"A"},4);i&&(n=l(i),setTimeout(function(){var e=l(i);e!==n&&e.match(s)&&i.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){var o=["width","height"],r=o.length,i=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?n.supportsEvent("resizeend")&&t.observe(i,"resizeend",function(t){for(var n,a=t.target||t.srcElement,s=a.style,l=0;l<r;l++)n=o[l],s[n]&&(a.setAttribute(n,parseInt(s[n],10)),s[n]="");e.quirks.redraw(i)}):n.supportsEvent("resizestart")&&t.observe(i,"resizestart",function(e){e.preventDefault()})},_initUndoManager:function(){new e.UndoManager(this.parent)}})}(wysihtml5),function(e){var t=e.dom,n=document,o=window,r=n.createElement("div"),i=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],a=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],s=["width","height","top","left","right","bottom"],l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(e){if(e.setActive)try{e.setActive()}catch(e){}else{var r=e.style,i=n.documentElement.scrollTop||n.body.scrollTop,a=n.documentElement.scrollLeft||n.body.scrollLeft,s={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(s).on(e),o.scrollTo&&o.scrollTo(a,i)}};e.views.Composer.prototype.style=function(){var u=this,d=n.querySelector(":focus"),h=this.textarea.element,f=h.hasAttribute("placeholder"),p=f&&h.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||r.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||r.cloneNode(!1),f&&h.removeAttribute("placeholder"),h===d&&h.blur(),t.copyStyles(a).from(h).to(this.iframe).andTo(this.blurStylesHost),t.copyStyles(i).from(h).to(this.element).andTo(this.blurStylesHost),t.insertCSS(l).into(this.element.ownerDocument),c(h),t.copyStyles(a).from(h).to(this.focusStylesHost),t.copyStyles(i).from(h).to(this.focusStylesHost);var m=e.lang.array(a).without(["display"]);if(d?d.focus():h.blur(),f&&h.setAttribute("placeholder",p),!e.browser.hasCurrentStyleProperty())var g=t.observe(o,"resize",function(){if(!t.contains(document.documentElement,u.iframe))return void g.stop();var e=t.getStyle("display").from(h),n=t.getStyle("display").from(u.iframe);h.style.display="",u.iframe.style.display="none",t.copyStyles(s).from(h).to(u.iframe).andTo(u.focusStylesHost).andTo(u.blurStylesHost),u.iframe.style.display=n,h.style.display=e});return this.parent.observe("focus:composer",function(){t.copyStyles(m).from(u.focusStylesHost).to(u.iframe),t.copyStyles(i).from(u.focusStylesHost).to(u.element)}),this.parent.observe("blur:composer",function(){t.copyStyles(m).from(u.blurStylesHost).to(u.iframe),t.copyStyles(i).from(u.blurStylesHost).to(u.element)}),this}}(wysihtml5),function(e){var t=e.dom,n=e.browser,o={66:"bold",73:"italic",85:"underline"};e.views.Composer.prototype.observe=function(){var r=this,i=this.getValue(),a=this.sandbox.getIframe(),s=this.element,l=n.supportsEventsInIframeCorrectly()?s:this.sandbox.getWindow(),c=n.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];t.observe(a,"DOMNodeRemoved",function(){clearInterval(u),r.parent.fire("destroy:composer")});var u=setInterval(function(){t.contains(document.documentElement,a)||(clearInterval(u),r.parent.fire("destroy:composer"))},250);t.observe(l,"focus",function(){r.parent.fire("focus").fire("focus:composer"),setTimeout(function(){i=r.getValue()},0)}),t.observe(l,"blur",function(){i!==r.getValue()&&r.parent.fire("change").fire("change:composer"),r.parent.fire("blur").fire("blur:composer")}),e.browser.isIos()&&t.observe(s,"blur",function(){var e=s.ownerDocument.createElement("input"),t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft;try{r.selection.insertNode(e)}catch(t){s.appendChild(e)}e.focus(),e.parentNode.removeChild(e),window.scrollTo(n,t)}),t.observe(s,"dragenter",function(){r.parent.fire("unset_placeholder")}),n.firesOnDropOnlyWhenOnDragOverIsCancelled()&&t.observe(s,["dragover","dragenter"],function(e){e.preventDefault()}),t.observe(s,c,function(e){var t,o=e.dataTransfer;o&&n.supportsDataTransfer()&&(t=o.getData("text/html")||o.getData("text/plain")),t?(s.focus(),r.commands.exec("insertHTML",t),r.parent.fire("paste").fire("paste:composer"),e.stopPropagation(),e.preventDefault()):setTimeout(function(){r.parent.fire("paste").fire("paste:composer")},0)}),t.observe(s,"keyup",function(t){var n=t.keyCode;n!==e.SPACE_KEY&&n!==e.ENTER_KEY||r.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){r.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||t.observe(s,"mousedown",function(e){var t=e.target;"IMG"===t.nodeName&&(r.selection.selectNode(t),e.preventDefault())}),t.observe(s,"keydown",function(e){var t=e.keyCode,n=o[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&n&&(r.commands.exec(n),e.preventDefault())}),t.observe(s,"keydown",function(t){var n,o=r.selection.getSelectedNode(!0),i=t.keyCode;!o||"IMG"!==o.nodeName||i!==e.BACKSPACE_KEY&&i!==e.DELETE_KEY||(n=o.parentNode,n.removeChild(o),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){e.quirks.redraw(s)},0),t.preventDefault())});var d={IMG:"Image: ",A:"Link: "};t.observe(s,"mouseover",function(e){var t,n=e.target,o=n.nodeName;if("A"===o||"IMG"===o){n.hasAttribute("title")||(t=d[o]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",t))}})}}(wysihtml5),function(e){e.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue()).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue();t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var t,n=this,o=this.textarea.element.form,r=function(){t=setInterval(function(){n.fromComposerToTextarea()},400)},i=function(){clearInterval(t),t=null};r(),o&&(e.dom.observe(o,"submit",function(){n.sync(!0)}),e.dom.observe(o,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(e){"composer"!==e||t?"textarea"===e&&(n.fromComposerToTextarea(!0),i()):(n.fromTextareaToComposer(!0),r())}),this.editor.observe("destroy:composer",i)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value,o=!n;return e&&o||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,n={focusin:"focus",focusout:"blur"},o=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.observe("beforeload",function(){wysihtml5.dom.observe(e,o,function(e){var o=n[e.type]||e.type;t.fire(o).fire(o+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t=e.dom;e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var n=this,o=function(e){var t=n._serialize();t==n.elementToChange?n.fire("edit",t):n.fire("save",t),n.hide(),e.preventDefault(),e.stopPropagation()};t.observe(n.link,"click",function(e){t.hasClass(n.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){n.hide()},0)}),t.observe(this.container,"keydown",function(t){var r=t.keyCode;r===e.ENTER_KEY&&o(t),r===e.ESCAPE_KEY&&n.hide()}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",o),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){n.fire("cancel"),n.hide(),e.preventDefault(),e.stopPropagation()});for(var r=this.container.querySelectorAll("input, select, textarea"),i=0,a=r.length,s=function(){clearInterval(n.interval)};i<a;i++)t.observe(r[i],"change",s);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),n=t.length,o=0;o<n;o++)e[t[o].getAttribute("data-wysihtml5-dialog-field")]=t[o].value;return e},_interpolate:function(e){for(var t,n,o,r=document.querySelector(":focus"),i=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),a=i.length,s=0;s<a;s++)(t=i[s])!==r&&(e&&"hidden"===t.type||(n=t.getAttribute("data-wysihtml5-dialog-field"),o=this.elementToChange?this.elementToChange[n]||"":t.defaultValue,t.value=o))},show:function(e){var n=this,o=this.container.querySelector("input, select, textarea");if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){n._interpolate(!0)},500)),t.addClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="",this.fire("show"),o&&!e)try{o.focus()}catch(e){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,n={position:"relative"},o={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},i={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(a,s){var l=document.createElement("input");if(!e.browser.supportsSpeechApiOn(l))return void(s.style.display="none");var c=document.createElement("div");e.lang.object(o).merge({width:s.offsetWidth+"px",height:s.offsetHeight+"px"}),t.insert(l).into(c),t.insert(c).into(s),t.setStyles(r).on(l),t.setAttributes(i).on(l),t.setStyles(o).on(c),t.setStyles(n).on(s);var u="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,u,function(){a.execCommand("insertText",l.value),l.value=""}),t.observe(l,"click",function(e){t.hasClass(s,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}}(wysihtml5),function(e){var t=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(t,n){this.editor=t,this.container="string"==typeof n?document.getElementById(n):n,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var o=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),r=o.length,i=0;i<r;i++)new e.toolbar.Speech(this,o[i])},_getLinks:function(t){for(var n,o,r,i,a,s=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=s.length,c=0,u=this[t+"Mapping"]={};c<l;c++)n=s[c],r=n.getAttribute("data-wysihtml5-"+t),i=n.getAttribute("data-wysihtml5-"+t+"-value"),o=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+r+"']"),a=this._getDialog(n,r),u[r+":"+i]={link:n,group:o,name:r,value:i,dialog:a,state:!1}},_getDialog:function(t,n){var o,r,i=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return a&&(o=new e.toolbar.Dialog(t,a),o.observe("show",function(){r=i.composer.selection.getBookmark(),i.editor.fire("show:dialog",{command:n,dialogContainer:a,commandLink:t})}),o.observe("save",function(e){r&&i.composer.selection.setBookmark(r),i._execCommand(n,e),i.editor.fire("save:dialog",{command:n,dialogContainer:a,commandLink:t})}),o.observe("cancel",function(){i.editor.focus(!1),i.editor.fire("cancel:dialog",{command:n,dialogContainer:a,commandLink:t})})),o},execCommand:function(e,t){if(!this.commandsDisabled){var n=this.commandMapping[e+":"+t];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;switch(e){case"change_view":t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")}},_observe:function(){for(var e=this,n=this.editor,o=this.container,r=this.commandLinks.concat(this.actionLinks),i=r.length,a=0;a<i;a++)t.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[a]);t.delegate(o,"[data-wysihtml5-command]","mousedown",function(e){e.preventDefault()}),t.delegate(o,"[data-wysihtml5-command]","click",function(t){var n=this,o=n.getAttribute("data-wysihtml5-command"),r=n.getAttribute("data-wysihtml5-command-value");e.execCommand(o,r),t.preventDefault()}),t.delegate(o,"[data-wysihtml5-action]","click",function(t){var n=this.getAttribute("data-wysihtml5-action");e.execAction(n),t.preventDefault()}),n.observe("focus:composer",function(){e.bookmark=null,clearInterval(e.interval),e.interval=setInterval(function(){e._updateLinkStates()},500)}),n.observe("blur:composer",function(){clearInterval(e.interval)}),n.observe("destroy:composer",function(){clearInterval(e.interval)}),n.observe("change_view",function(n){setTimeout(function(){e.commandsDisabled="composer"!==n,e._updateLinkStates(),e.commandsDisabled?t.addClass(o,"wysihtml5-commands-disabled"):t.removeClass(o,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var n,o,r,i,a=(this.composer.element,this.commandMapping),s=this.actionMapping;for(n in a)i=a[n],this.commandsDisabled?(o=!1,t.removeClass(i.link,"wysihtml5-command-active"),i.group&&t.removeClass(i.group,"wysihtml5-command-active"),i.dialog&&i.dialog.hide()):(o=this.composer.commands.state(i.name,i.value),e.lang.object(o).isArray()&&(o=1!==o.length||o[0]),t.removeClass(i.link,"wysihtml5-command-disabled"),i.group&&t.removeClass(i.group,"wysihtml5-command-disabled")),i.state!==o&&(i.state=o,o?(t.addClass(i.link,"wysihtml5-command-active"),i.group&&t.addClass(i.group,"wysihtml5-command-active"),i.dialog&&("object"==typeof o?i.dialog.show(o):i.dialog.hide())):(t.removeClass(i.link,"wysihtml5-command-active"),i.group&&t.removeClass(i.group,"wysihtml5-command-active"),i.dialog&&i.dialog.hide()));for(n in s)r=s[n],"change_view"===r.name&&(r.state=this.editor.currentView===this.editor.textarea,r.state?t.addClass(r.link,"wysihtml5-action-active"):t.removeClass(r.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){var t={name:void 0,style:!0,toolbar:void 0,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:void 0,allowObjectResizing:!0,supportTouchDevices:!0};e.Editor=e.lang.Dispatcher.extend({constructor:function(n,o){if(this.textareaElement="string"==typeof n?document.getElementById(n):n,this.config=e.lang.object({}).merge(t).merge(o).get(),this.textarea=new e.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=e.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var r=this;return void setTimeout(function(){r.fire("beforeload").fire("load")},0)}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(e){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e){return this.currentView.getValue(e)},setValue:function(e,t){return e?(this.currentView.setValue(e,t),this):this.clear()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t){var n=this.config.parser(t,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof t&&e.quirks.redraw(t),n},_initParser:function(){this.observe("paste:composer",function(){var t=this;t.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(t.composer.element),t.parse(t.composer.element)},!0)}),this.observe("paste:textarea",function(){var e,t=this.textarea.getValue();e=this.parse(t),this.textarea.setValue(e)})}})}(wysihtml5),function(e,t){"use strict";var n={"font-styles":function(e,t){
return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+(t&&t.size?" btn-"+t.size:"")+"' data-toggle='dropdown' href='#'><i class='icon-font'></i>&nbsp;<span class='current-font'>"+e.font_styles.normal+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'><p>"+e.font_styles.normal+"</p></a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'><h1>"+e.font_styles.h1+"</h1></a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'><h2>"+e.font_styles.h2+"</h2></a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'><h3>"+e.font_styles.h3+"</h3></a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4'><h4>"+e.font_styles.h4+"</h4></a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5'><h5>"+e.font_styles.h5+"</h5></a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6'><h6>"+e.font_styles.h6+"</h6></a></li></ul></li>"},emphasis:function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn btn-default"+n+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+e.emphasis.bold+"</a><a class='btn btn-default"+n+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+e.emphasis.italic+"</a><a class='btn btn-default"+n+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+e.emphasis.underline+"</a></div></li>"},lists:function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn btn-default"+n+"' data-wysihtml5-command='insertUnorderedList' title='"+e.lists.unordered+"' tabindex='-1'><i class='fa fa-list'></i></a><a class='btn btn-default"+n+"' data-wysihtml5-command='insertOrderedList' title='"+e.lists.ordered+"' tabindex='-1'><i class='fa fa-th-list'></i></a><a class='btn btn-default"+n+"' data-wysihtml5-command='Outdent' title='"+e.lists.outdent+"' tabindex='-1'><i class='fa fa-outdent'></i></a><a class='btn btn-default"+n+"' data-wysihtml5-command='Indent' title='"+e.lists.indent+"' tabindex='-1'><i class='fa fa-indent'></i></a></div></li>"},link:function(t,n){var o=n&&n.size?" btn-"+n.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal fade'>"+(e.fn.modalmanager?"":"<div class='modal-dialog'>")+" <div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+t.link.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url form-control'><label style='margin-top:5px;'><input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked> "+t.link.target+"</label></div><div class='modal-footer'><a href='#' class='btn btn-default' data-dismiss='modal'>"+t.link.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+t.link.insert+"</a></div></div>"+(e.fn.modalmanager?"":"</div>")+"</div><a class='btn btn-default"+o+"' data-wysihtml5-command='createLink' title='"+t.link.insert+"' tabindex='-1'><i class='fa fa-share'></i></a></li>"},image:function(t,n){var o=n&&n.size?" btn-"+n.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal fade'>"+(e.fn.modalmanager?"":"<div class='modal-dialog'>")+" <div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+t.image.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url form-control input-xlarge'></div><div class='modal-footer'><a href='#' class='btn btn-default' data-dismiss='modal'>"+t.image.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+t.image.insert+"</a></div></div>"+(e.fn.modalmanager?"":"</div>")+"</div><a class='btn btn-default"+o+"' data-wysihtml5-command='insertImage' title='"+t.image.insert+"' tabindex='-1'><i class='fa fa-picture-o'></i></a></li>"},html:function(e,t){return"<li><div class='btn-group'><a class='btn btn-default"+(t&&t.size?" btn-"+t.size:"")+"' data-wysihtml5-action='change_view' title='"+e.html.edit+"' tabindex='-1'><i class='fa fa-pencil'></i></a></div></li>"},color:function(e,t){return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+(t&&t.size?" btn-"+t.size:"")+"' data-toggle='dropdown' href='#' tabindex='-1'><span class='current-color'>"+e.colours.black+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+e.colours.black+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+e.colours.silver+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+e.colours.gray+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+e.colours.maroon+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+e.colours.red+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+e.colours.purple+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+e.colours.green+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+e.colours.olive+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+e.colours.navy+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+e.colours.blue+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+e.colours.orange+"</a></li></ul></li>"}},o=function(e,t,o){return n[e](t,o)},r=function(t,o){this.el=t;var r=o||a;for(var i in r.customTemplates)n[i]=r.customTemplates[i];this.toolbar=this.createToolbar(t,r),this.editor=this.createEditor(o),window.editor=this.editor,e("iframe.wysihtml5-sandbox").each(function(t,n){e(n.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){e("li.dropdown").removeClass("open")}})})};r.prototype={constructor:r,createEditor:function(n){n=n||{},n=e.extend(!0,{},n),n.toolbar=this.toolbar[0];var o=new t.Editor(this.el[0],n);if(n&&n.events)for(var r in n.events)o.on(r,n.events[r]);return o},createToolbar:function(t,n){var r=this,i=e("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),l=n.locale||a.locale||"en";for(var c in a){var u=!1;void 0!==n[c]?n[c]===!0&&(u=!0):u=a[c],u===!0&&(i.append(o(c,s[l],n)),"html"===c&&this.initHtml(i),"link"===c&&this.initInsertLink(i),"image"===c&&this.initInsertImage(i))}if(n.toolbar)for(c in n.toolbar)i.append(n.toolbar[c]);return i.find("a[data-wysihtml5-command='formatBlock']").click(function(t){var n=t.target||t.srcElement,o=e(n);r.toolbar.find(".current-font").text(o.html())}),i.find("a[data-wysihtml5-command='foreColor']").click(function(t){var n=t.target||t.srcElement,o=e(n);r.toolbar.find(".current-color").text(o.html())}),this.el.before(i),i},initHtml:function(e){e.find("a[data-wysihtml5-action='change_view']").click(function(t){e.find("a.btn").not("a[data-wysihtml5-action='change_view']").toggleClass("disabled")})},initInsertImage:function(t){var n,o=this,r=t.find(".bootstrap-wysihtml5-insert-image-modal"),i=r.find(".bootstrap-wysihtml5-insert-image-url"),a=r.find("a.btn-primary"),s=i.val(),l=function(){var e=i.val();i.val(s),o.editor.currentView.element.focus(),n&&(o.editor.composer.selection.setBookmark(n),n=null),o.editor.composer.commands.exec("insertImage",e)};i.keypress(function(e){13==e.which&&(l(),r.modal("hide"))}),a.click(l),r.on("shown",function(){i.focus()}),r.on("hide",function(){o.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=insertImage]").click(function(){return!!e(this).hasClass("wysihtml5-command-active")||(o.editor.currentView.element.focus(!1),n=o.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})},initInsertLink:function(t){var n,o=this,r=t.find(".bootstrap-wysihtml5-insert-link-modal"),i=r.find(".bootstrap-wysihtml5-insert-link-url"),a=r.find(".bootstrap-wysihtml5-insert-link-target"),s=r.find("a.btn-primary"),l=i.val(),c=function(){var e=i.val();i.val(l),o.editor.currentView.element.focus(),n&&(o.editor.composer.selection.setBookmark(n),n=null);var t=a.prop("checked");o.editor.composer.commands.exec("createLink",{href:e,target:t?"_blank":"_self",rel:t?"nofollow":""})};i.keypress(function(e){13==e.which&&(c(),r.modal("hide"))}),s.click(c),r.on("shown",function(){i.focus()}),r.on("hide",function(){o.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=createLink]").click(function(){return!!e(this).hasClass("wysihtml5-command-active")||(o.editor.currentView.element.focus(!1),n=o.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})}};var i={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var n=e(this);n.data("wysihtml5",new r(n,t))})},shallowExtend:function(t){var n=e.extend({},e.fn.wysihtml5.defaultOptions,t||{},e(this).data()),o=this;return i.bypassDefaults.apply(o,[n])},deepExtend:function(t){var n=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{}),o=this;return i.bypassDefaults.apply(o,[n])},init:function(e){var t=this;return i.shallowExtend.apply(t,[e])}};e.fn.wysihtml5=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.wysihtml5"):i.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=r;var a=e.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!0,link:!0,image:!0,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url",target:"alt",rel:"alt"}},span:1,div:1,code:1,pre:1}},stylesheets:["wysiwyg-color.css"],locale:"en"};void 0===e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions));var s=e.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5),function(e){e.fn.wysihtml5.locale["ar-Ar"]={font_styles:{normal:" ",h1:"  1",h2:"  2",h3:"  3",h4:"  4",h5:"  5",h6:"  6"},emphasis:{bold:"",italic:"",underline:" "},lists:{unordered:" ",ordered:" ",outdent:" ",indent:" "},link:{insert:" ",target:"   ",cancel:""},image:{insert:" ",cancel:""},html:{edit:" HTML"},colours:{black:"",silver:"",gray:"",maroon:"",red:"",purple:"",green:"",olive:"",navy:" ",blue:" ",orange:""}}}(jQuery);